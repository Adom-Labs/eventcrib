(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[111],{60379:function(s,u){"use strict";let g=-8,T=-4,A=0,E=1,B=1,S=2,I=5,C=1024,O=2048,N=8192,D=0,R=4,L=8,U=12,P=12,M=16,z="undefined"!=typeof BigUint64Array,F=Symbol(),$=1024;function getStringImpl(s,u){let g=new Uint32Array(s),A=new Uint16Array(s);var E=g[u+T>>>2]>>>1,B=u>>>1;if(E<=$)return String.fromCharCode.apply(String,A.subarray(B,B+E));let S=[];do{let s=A[B+$-1],u=s>=55296&&s<56320?$-1:$;S.push(String.fromCharCode.apply(String,A.subarray(B,B+=u))),E-=u}while(E>$);return S.join("")+String.fromCharCode.apply(String,A.subarray(B,B+E))}function preInstantiate(s){let u={};function getString(s,u){return s?getStringImpl(s.buffer,u):"<yet unknown>"}let g=s.env=s.env||{};return g.abort=g.abort||function(s,T,A,E){let B=u.memory||g.memory;throw Error("abort: "+getString(B,s)+" at "+getString(B,T)+":"+A+":"+E)},g.trace=g.trace||function(s,T){let A=u.memory||g.memory;console.log("trace: "+getString(A,s)+(T?" ":"")+Array.prototype.slice.call(arguments,2,2+T).join(", "))},s.Math=s.Math||Math,s.Date=s.Date||Date,u}function postInstantiate(s,u){let F=u.exports,$=F.memory,V=F.table,W=F.__alloc,H=F.__retain,G=F.__rtti_base||-1;function getInfo(s){let u=new Uint32Array($.buffer),g=u[G>>>2];if((s>>>=0)>=g)throw Error("invalid id: "+s);return u[(G+4>>>2)+2*s]}function getBase(s){let u=new Uint32Array($.buffer),g=u[G>>>2];if((s>>>=0)>=g)throw Error("invalid id: "+s);return u[(G+4>>>2)+2*s+1]}function getValueAlign(s){return 31-Math.clz32(s>>>I&31)}function __allocString(s){let u=s.length,g=W(u<<1,E),T=new Uint16Array($.buffer);for(var A=0,B=g>>>1;A<u;++A)T[B+A]=s.charCodeAt(A);return g}function __getString(s){let u=$.buffer,T=new Uint32Array(u)[s+g>>>2];if(T!==E)throw Error("not a string: "+s);return getStringImpl(u,s)}function getView(s,u,g){let T=$.buffer;if(g)switch(s){case 2:return new Float32Array(T);case 3:return new Float64Array(T)}else switch(s){case 0:return new(u?Int8Array:Uint8Array)(T);case 1:return new(u?Int16Array:Uint16Array)(T);case 2:return new(u?Int32Array:Uint32Array)(T);case 3:return new(u?BigInt64Array:BigUint64Array)(T)}throw Error("unsupported align: "+s)}function __allocArray(s,u){let g=getInfo(s);if(!(g&(B|S)))throw Error("not an array: "+s+" @ "+g);let T=getValueAlign(g),E=u.length,I=W(E<<T,A),z=W(g&S?M:U,s),F=new Uint32Array($.buffer);F[z+D>>>2]=H(I),F[z+R>>>2]=I,F[z+L>>>2]=E<<T,g&S&&(F[z+P>>>2]=E);let V=getView(T,g&C,g&O);if(g&N)for(let s=0;s<E;++s)V[(I>>>T)+s]=H(u[s]);else V.set(u,I>>>T);return z}function __getArrayView(s){let u=new Uint32Array($.buffer),A=u[s+g>>>2],E=getInfo(A);if(!(E&B))throw Error("not an array: "+A);let I=getValueAlign(E);var N=u[s+R>>>2];let D=E&S?u[s+P>>>2]:u[N+T>>>2]>>>I;return getView(I,E&C,E&O).subarray(N>>>=I,N+D)}function __getArray(s){let u=__getArrayView(s),g=u.length,T=Array(g);for(let s=0;s<g;s++)T[s]=u[s];return T}function __getArrayBuffer(s){let u=$.buffer,g=new Uint32Array(u)[s+T>>>2];return u.slice(s,s+g)}function getTypedArray(s,u,g){return new s(getTypedArrayView(s,u,g))}function getTypedArrayView(s,u,g){let A=$.buffer,E=new Uint32Array(A),B=E[g+R>>>2];return new s(A,B,E[B+T>>>2]>>>u)}function __instanceof(s,u){let T=new Uint32Array($.buffer);var A=T[s+g>>>2];if(A<=T[G>>>2])do if(A==u)return!0;while(A=getBase(A));return!1}return s.__allocString=__allocString,s.__getString=__getString,s.__allocArray=__allocArray,s.__getArrayView=__getArrayView,s.__getArray=__getArray,s.__getArrayBuffer=__getArrayBuffer,s.__getInt8Array=getTypedArray.bind(null,Int8Array,0),s.__getInt8ArrayView=getTypedArrayView.bind(null,Int8Array,0),s.__getUint8Array=getTypedArray.bind(null,Uint8Array,0),s.__getUint8ArrayView=getTypedArrayView.bind(null,Uint8Array,0),s.__getUint8ClampedArray=getTypedArray.bind(null,Uint8ClampedArray,0),s.__getUint8ClampedArrayView=getTypedArrayView.bind(null,Uint8ClampedArray,0),s.__getInt16Array=getTypedArray.bind(null,Int16Array,1),s.__getInt16ArrayView=getTypedArrayView.bind(null,Int16Array,1),s.__getUint16Array=getTypedArray.bind(null,Uint16Array,1),s.__getUint16ArrayView=getTypedArrayView.bind(null,Uint16Array,1),s.__getInt32Array=getTypedArray.bind(null,Int32Array,2),s.__getInt32ArrayView=getTypedArrayView.bind(null,Int32Array,2),s.__getUint32Array=getTypedArray.bind(null,Uint32Array,2),s.__getUint32ArrayView=getTypedArrayView.bind(null,Uint32Array,2),z&&(s.__getInt64Array=getTypedArray.bind(null,BigInt64Array,3),s.__getInt64ArrayView=getTypedArrayView.bind(null,BigInt64Array,3),s.__getUint64Array=getTypedArray.bind(null,BigUint64Array,3),s.__getUint64ArrayView=getTypedArrayView.bind(null,BigUint64Array,3)),s.__getFloat32Array=getTypedArray.bind(null,Float32Array,2),s.__getFloat32ArrayView=getTypedArrayView.bind(null,Float32Array,2),s.__getFloat64Array=getTypedArray.bind(null,Float64Array,3),s.__getFloat64ArrayView=getTypedArrayView.bind(null,Float64Array,3),s.__instanceof=__instanceof,s.memory=s.memory||$,s.table=s.table||V,demangle(F,s)}function isResponse(s){return"undefined"!=typeof Response&&s instanceof Response}async function instantiate(s,u){return isResponse(s=await s)?instantiateStreaming(s,u):postInstantiate(preInstantiate(u||(u={})),await WebAssembly.instantiate(s instanceof WebAssembly.Module?s:await WebAssembly.compile(s),u))}function instantiateSync(s,u){return postInstantiate(preInstantiate(u||(u={})),new WebAssembly.Instance(s instanceof WebAssembly.Module?s:new WebAssembly.Module(s),u))}async function instantiateStreaming(s,u){return WebAssembly.instantiateStreaming?postInstantiate(preInstantiate(u||(u={})),(await WebAssembly.instantiateStreaming(s,u)).instance):instantiate(isResponse(s=await s)?s.arrayBuffer():s,u)}function demangle(s,u){var g=u?Object.create(u):{},T=s.__argumentsLength?function(u){s.__argumentsLength.value=u}:s.__setArgumentsLength||s.__setargc||function(){};for(let u in s){if(!Object.prototype.hasOwnProperty.call(s,u))continue;let A=s[u],E=u.split("."),B=g;for(;E.length>1;){let s=E.shift();Object.prototype.hasOwnProperty.call(B,s)||(B[s]={}),B=B[s]}let S=E[0],I=S.indexOf("#");if(I>=0){let g=S.substring(0,I),E=B[g];if(void 0===E||!E.prototype){let ctor=function(...s){return ctor.wrap(ctor.prototype.constructor(0,...s))};ctor.prototype={valueOf:function(){return this[F]}},ctor.wrap=function(s){return Object.create(ctor.prototype,{[F]:{value:s,writable:!1}})},E&&Object.getOwnPropertyNames(E).forEach(s=>Object.defineProperty(ctor,s,Object.getOwnPropertyDescriptor(E,s))),B[g]=ctor}if(S=S.substring(I+1),B=B[g].prototype,/^(get|set):/.test(S)){if(!Object.prototype.hasOwnProperty.call(B,S=S.substring(4))){let g=s[u.replace("set:","get:")],T=s[u.replace("get:","set:")];Object.defineProperty(B,S,{get:function(){return g(this[F])},set:function(s){T(this[F],s)},enumerable:!0})}}else"constructor"===S?(B[S]=(...s)=>(T(s.length),A(...s))).original=A:(B[S]=function(...s){return T(s.length),A(this[F],...s)}).original=A}else/^(get|set):/.test(S)?Object.prototype.hasOwnProperty.call(B,S=S.substring(4))||Object.defineProperty(B,S,{get:s[u.replace("set:","get:")],set:s[u.replace("get:","set:")],enumerable:!0}):"function"==typeof A&&A!==T?(B[S]=(...s)=>(T(s.length),A(...s))).original=A:B[S]=A}return g}u.instantiate=instantiate,u.instantiateSync=instantiateSync,u.instantiateStreaming=instantiateStreaming,u.demangle=demangle},22790:function(s){"use strict";function asPromise(s,u){for(var g=Array(arguments.length-1),T=0,A=2,E=!0;A<arguments.length;)g[T++]=arguments[A++];return new Promise(function(A,B){g[T]=function(s){if(E){if(E=!1,s)B(s);else{for(var u=Array(arguments.length-1),g=0;g<u.length;)u[g++]=arguments[g];A.apply(null,u)}}};try{s.apply(u||null,g)}catch(s){E&&(E=!1,B(s))}})}s.exports=asPromise},74081:function(s,u){"use strict";var g=u;g.length=function(s){var u=s.length;if(!u)return 0;for(var g=0;--u%4>1&&"="===s.charAt(u);)++g;return Math.ceil(3*s.length)/4-g};for(var T=Array(64),A=Array(123),E=0;E<64;)A[T[E]=E<26?E+65:E<52?E+71:E<62?E-4:E-59|43]=E++;g.encode=function(s,u,g){for(var A,E=null,B=[],S=0,I=0;u<g;){var C=s[u++];switch(I){case 0:B[S++]=T[C>>2],A=(3&C)<<4,I=1;break;case 1:B[S++]=T[A|C>>4],A=(15&C)<<2,I=2;break;case 2:B[S++]=T[A|C>>6],B[S++]=T[63&C],I=0}S>8191&&((E||(E=[])).push(String.fromCharCode.apply(String,B)),S=0)}return(I&&(B[S++]=T[A],B[S++]=61,1===I&&(B[S++]=61)),E)?(S&&E.push(String.fromCharCode.apply(String,B.slice(0,S))),E.join("")):String.fromCharCode.apply(String,B.slice(0,S))};var B="invalid encoding";g.decode=function(s,u,g){for(var T,E=g,S=0,I=0;I<s.length;){var C=s.charCodeAt(I++);if(61===C&&S>1)break;if(void 0===(C=A[C]))throw Error(B);switch(S){case 0:T=C,S=1;break;case 1:u[g++]=T<<2|(48&C)>>4,T=C,S=2;break;case 2:u[g++]=(15&T)<<4|(60&C)>>2,T=C,S=3;break;case 3:u[g++]=(3&T)<<6|C,S=0}}if(1===S)throw Error(B);return g-E},g.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}},15074:function(s){"use strict";function EventEmitter(){this._listeners={}}s.exports=EventEmitter,EventEmitter.prototype.on=function(s,u,g){return(this._listeners[s]||(this._listeners[s]=[])).push({fn:u,ctx:g||this}),this},EventEmitter.prototype.off=function(s,u){if(void 0===s)this._listeners={};else if(void 0===u)this._listeners[s]=[];else for(var g=this._listeners[s],T=0;T<g.length;)g[T].fn===u?g.splice(T,1):++T;return this},EventEmitter.prototype.emit=function(s){var u=this._listeners[s];if(u){for(var g=[],T=1;T<arguments.length;)g.push(arguments[T++]);for(T=0;T<u.length;)u[T].fn.apply(u[T++].ctx,g)}return this}},53383:function(s){"use strict";function factory(s){return"undefined"!=typeof Float32Array?function(){var u=new Float32Array([-0]),g=new Uint8Array(u.buffer),T=128===g[3];function writeFloat_f32_cpy(s,T,A){u[0]=s,T[A]=g[0],T[A+1]=g[1],T[A+2]=g[2],T[A+3]=g[3]}function writeFloat_f32_rev(s,T,A){u[0]=s,T[A]=g[3],T[A+1]=g[2],T[A+2]=g[1],T[A+3]=g[0]}function readFloat_f32_cpy(s,T){return g[0]=s[T],g[1]=s[T+1],g[2]=s[T+2],g[3]=s[T+3],u[0]}function readFloat_f32_rev(s,T){return g[3]=s[T],g[2]=s[T+1],g[1]=s[T+2],g[0]=s[T+3],u[0]}s.writeFloatLE=T?writeFloat_f32_cpy:writeFloat_f32_rev,s.writeFloatBE=T?writeFloat_f32_rev:writeFloat_f32_cpy,s.readFloatLE=T?readFloat_f32_cpy:readFloat_f32_rev,s.readFloatBE=T?readFloat_f32_rev:readFloat_f32_cpy}():function(){function writeFloat_ieee754(s,u,g,T){var A=u<0?1:0;if(A&&(u=-u),0===u)s(1/u>0?0:2147483648,g,T);else if(isNaN(u))s(2143289344,g,T);else if(u>34028234663852886e22)s((A<<31|2139095040)>>>0,g,T);else if(u<11754943508222875e-54)s((A<<31|Math.round(u/1401298464324817e-60))>>>0,g,T);else{var E=Math.floor(Math.log(u)/Math.LN2),B=8388607&Math.round(u*Math.pow(2,-E)*8388608);s((A<<31|E+127<<23|B)>>>0,g,T)}}function readFloat_ieee754(s,u,g){var T=s(u,g),A=(T>>31)*2+1,E=T>>>23&255,B=8388607&T;return 255===E?B?NaN:A*(1/0):0===E?1401298464324817e-60*A*B:A*Math.pow(2,E-150)*(B+8388608)}s.writeFloatLE=writeFloat_ieee754.bind(null,writeUintLE),s.writeFloatBE=writeFloat_ieee754.bind(null,writeUintBE),s.readFloatLE=readFloat_ieee754.bind(null,readUintLE),s.readFloatBE=readFloat_ieee754.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var u=new Float64Array([-0]),g=new Uint8Array(u.buffer),T=128===g[7];function writeDouble_f64_cpy(s,T,A){u[0]=s,T[A]=g[0],T[A+1]=g[1],T[A+2]=g[2],T[A+3]=g[3],T[A+4]=g[4],T[A+5]=g[5],T[A+6]=g[6],T[A+7]=g[7]}function writeDouble_f64_rev(s,T,A){u[0]=s,T[A]=g[7],T[A+1]=g[6],T[A+2]=g[5],T[A+3]=g[4],T[A+4]=g[3],T[A+5]=g[2],T[A+6]=g[1],T[A+7]=g[0]}function readDouble_f64_cpy(s,T){return g[0]=s[T],g[1]=s[T+1],g[2]=s[T+2],g[3]=s[T+3],g[4]=s[T+4],g[5]=s[T+5],g[6]=s[T+6],g[7]=s[T+7],u[0]}function readDouble_f64_rev(s,T){return g[7]=s[T],g[6]=s[T+1],g[5]=s[T+2],g[4]=s[T+3],g[3]=s[T+4],g[2]=s[T+5],g[1]=s[T+6],g[0]=s[T+7],u[0]}s.writeDoubleLE=T?writeDouble_f64_cpy:writeDouble_f64_rev,s.writeDoubleBE=T?writeDouble_f64_rev:writeDouble_f64_cpy,s.readDoubleLE=T?readDouble_f64_cpy:readDouble_f64_rev,s.readDoubleBE=T?readDouble_f64_rev:readDouble_f64_cpy}():function(){function writeDouble_ieee754(s,u,g,T,A,E){var B,S=T<0?1:0;if(S&&(T=-T),0===T)s(0,A,E+u),s(1/T>0?0:2147483648,A,E+g);else if(isNaN(T))s(0,A,E+u),s(2146959360,A,E+g);else if(T>17976931348623157e292)s(0,A,E+u),s((S<<31|2146435072)>>>0,A,E+g);else if(T<22250738585072014e-324)s((B=T/5e-324)>>>0,A,E+u),s((S<<31|B/4294967296)>>>0,A,E+g);else{var I=Math.floor(Math.log(T)/Math.LN2);1024===I&&(I=1023),s(4503599627370496*(B=T*Math.pow(2,-I))>>>0,A,E+u),s((S<<31|I+1023<<20|1048576*B&1048575)>>>0,A,E+g)}}function readDouble_ieee754(s,u,g,T,A){var E=s(T,A+u),B=s(T,A+g),S=(B>>31)*2+1,I=B>>>20&2047,C=4294967296*(1048575&B)+E;return 2047===I?C?NaN:S*(1/0):0===I?5e-324*S*C:S*Math.pow(2,I-1075)*(C+4503599627370496)}s.writeDoubleLE=writeDouble_ieee754.bind(null,writeUintLE,0,4),s.writeDoubleBE=writeDouble_ieee754.bind(null,writeUintBE,4,0),s.readDoubleLE=readDouble_ieee754.bind(null,readUintLE,0,4),s.readDoubleBE=readDouble_ieee754.bind(null,readUintBE,4,0)}(),s}function writeUintLE(s,u,g){u[g]=255&s,u[g+1]=s>>>8&255,u[g+2]=s>>>16&255,u[g+3]=s>>>24}function writeUintBE(s,u,g){u[g]=s>>>24,u[g+1]=s>>>16&255,u[g+2]=s>>>8&255,u[g+3]=255&s}function readUintLE(s,u){return(s[u]|s[u+1]<<8|s[u+2]<<16|s[u+3]<<24)>>>0}function readUintBE(s,u){return(s[u]<<24|s[u+1]<<16|s[u+2]<<8|s[u+3])>>>0}s.exports=factory(factory)},84962:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},63505:function(s){"use strict";function pool(s,u,g){var T=g||8192,A=T>>>1,E=null,B=T;return function(g){if(g<1||g>A)return s(g);B+g>T&&(E=s(T),B=0);var S=u.call(E,B,B+=g);return 7&B&&(B=(7|B)+1),S}}s.exports=pool},26503:function(s,u){"use strict";var g=u;g.length=function(s){for(var u=0,g=0,T=0;T<s.length;++T)(g=s.charCodeAt(T))<128?u+=1:g<2048?u+=2:(64512&g)==55296&&(64512&s.charCodeAt(T+1))==56320?(++T,u+=4):u+=3;return u},g.read=function(s,u,g){if(g-u<1)return"";for(var T,A=null,E=[],B=0;u<g;)(T=s[u++])<128?E[B++]=T:T>191&&T<224?E[B++]=(31&T)<<6|63&s[u++]:T>239&&T<365?(T=((7&T)<<18|(63&s[u++])<<12|(63&s[u++])<<6|63&s[u++])-65536,E[B++]=55296+(T>>10),E[B++]=56320+(1023&T)):E[B++]=(15&T)<<12|(63&s[u++])<<6|63&s[u++],B>8191&&((A||(A=[])).push(String.fromCharCode.apply(String,E)),B=0);return A?(B&&A.push(String.fromCharCode.apply(String,E.slice(0,B))),A.join("")):String.fromCharCode.apply(String,E.slice(0,B))},g.write=function(s,u,g){for(var T,A,E=g,B=0;B<s.length;++B)(T=s.charCodeAt(B))<128?u[g++]=T:(T<2048?u[g++]=T>>6|192:((64512&T)==55296&&(64512&(A=s.charCodeAt(B+1)))==56320?(T=65536+((1023&T)<<10)+(1023&A),++B,u[g++]=T>>18|240,u[g++]=T>>12&63|128):u[g++]=T>>12|224,u[g++]=T>>6&63|128),u[g++]=63&T|128);return g-E}},75368:function(s,u,g){"use strict";let{Buffer:T}=g(67133),A=Symbol.for("BufferList");function BufferList(s){if(!(this instanceof BufferList))return new BufferList(s);BufferList._init.call(this,s)}BufferList._init=function(s){Object.defineProperty(this,A,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},BufferList.prototype._new=function(s){return new BufferList(s)},BufferList.prototype._offset=function(s){if(0===s)return[0,0];let u=0;for(let g=0;g<this._bufs.length;g++){let T=u+this._bufs[g].length;if(s<T||g===this._bufs.length-1)return[g,s-u];u=T}},BufferList.prototype._reverseOffset=function(s){let u=s[0],g=s[1];for(let s=0;s<u;s++)g+=this._bufs[s].length;return g},BufferList.prototype.get=function(s){if(s>this.length||s<0)return;let u=this._offset(s);return this._bufs[u[0]][u[1]]},BufferList.prototype.slice=function(s,u){return"number"==typeof s&&s<0&&(s+=this.length),"number"==typeof u&&u<0&&(u+=this.length),this.copy(null,0,s,u)},BufferList.prototype.copy=function(s,u,g,A){if(("number"!=typeof g||g<0)&&(g=0),("number"!=typeof A||A>this.length)&&(A=this.length),g>=this.length||A<=0)return s||T.alloc(0);let E=!!s,B=this._offset(g),S=A-g,I=S,C=E&&u||0,O=B[1];if(0===g&&A===this.length){if(!E)return 1===this._bufs.length?this._bufs[0]:T.concat(this._bufs,this.length);for(let u=0;u<this._bufs.length;u++)this._bufs[u].copy(s,C),C+=this._bufs[u].length;return s}if(I<=this._bufs[B[0]].length-O)return E?this._bufs[B[0]].copy(s,u,O,O+I):this._bufs[B[0]].slice(O,O+I);E||(s=T.allocUnsafe(S));for(let u=B[0];u<this._bufs.length;u++){let g=this._bufs[u].length-O;if(I>g)this._bufs[u].copy(s,C,O),C+=g;else{this._bufs[u].copy(s,C,O,O+I),C+=g;break}I-=g,O&&(O=0)}return s.length>C?s.slice(0,C):s},BufferList.prototype.shallowSlice=function(s,u){if(s=s||0,u="number"!=typeof u?this.length:u,s<0&&(s+=this.length),u<0&&(u+=this.length),s===u)return this._new();let g=this._offset(s),T=this._offset(u),A=this._bufs.slice(g[0],T[0]+1);return 0===T[1]?A.pop():A[A.length-1]=A[A.length-1].slice(0,T[1]),0!==g[1]&&(A[0]=A[0].slice(g[1])),this._new(A)},BufferList.prototype.toString=function(s,u,g){return this.slice(u,g).toString(s)},BufferList.prototype.consume=function(s){if(Number.isNaN(s=Math.trunc(s))||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},BufferList.prototype.duplicate=function(){let s=this._new();for(let u=0;u<this._bufs.length;u++)s.append(this._bufs[u]);return s},BufferList.prototype.append=function(s){if(null==s)return this;if(s.buffer)this._appendBuffer(T.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let u=0;u<s.length;u++)this.append(s[u]);else if(this._isBufferList(s))for(let u=0;u<s._bufs.length;u++)this.append(s._bufs[u]);else"number"==typeof s&&(s=s.toString()),this._appendBuffer(T.from(s));return this},BufferList.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},BufferList.prototype.indexOf=function(s,u,g){if(void 0===g&&"string"==typeof u&&(g=u,u=void 0),"function"==typeof s||Array.isArray(s))throw TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof s?s=T.from([s]):"string"==typeof s?s=T.from(s,g):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=T.from(s.buffer,s.byteOffset,s.byteLength):T.isBuffer(s)||(s=T.from(s)),isNaN(u=Number(u||0))&&(u=0),u<0&&(u=this.length+u),u<0&&(u=0),0===s.length)return u>this.length?this.length:u;let A=this._offset(u),E=A[0],B=A[1];for(;E<this._bufs.length;E++){let u=this._bufs[E];for(;B<u.length;){let g=u.length-B;if(g>=s.length){let g=u.indexOf(s,B);if(-1!==g)return this._reverseOffset([E,g]);B=u.length-s.length+1}else{let u=this._reverseOffset([E,B]);if(this._match(u,s))return u;B++}}B=0}return -1},BufferList.prototype._match=function(s,u){if(this.length-s<u.length)return!1;for(let g=0;g<u.length;g++)if(this.get(s+g)!==u[g])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let u in s)!function(u){null===s[u]?BufferList.prototype[u]=function(s,g){return this.slice(s,s+g)[u](0,g)}:BufferList.prototype[u]=function(g=0){return this.slice(g,g+s[u])[u](0)}}(u)}(),BufferList.prototype._isBufferList=function(s){return s instanceof BufferList||BufferList.isBufferList(s)},BufferList.isBufferList=function(s){return null!=s&&s[A]},s.exports=BufferList},73780:function(s,u,g){"use strict";let T=g(78006);function blobToIt(s){return"function"==typeof s.stream?T(s.stream()):T(new Response(s).body)}s.exports=blobToIt},78006:function(s){"use strict";async function*browserReadableStreamToIt(s,u={}){let g=s.getReader();try{for(;;){let s=await g.read();if(s.done)return;yield s.value}}finally{!0!==u.preventCancel&&g.cancel(),g.releaseLock()}}s.exports=browserReadableStreamToIt},54440:function(s,u){var g;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var T={}.hasOwnProperty;function classNames(){for(var s=[],u=0;u<arguments.length;u++){var g=arguments[u];if(g){var A=typeof g;if("string"===A||"number"===A)s.push(g);else if(Array.isArray(g)){if(g.length){var E=classNames.apply(null,g);E&&s.push(E)}}else if("object"===A){if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]")){s.push(g.toString());continue}for(var B in g)T.call(g,B)&&g[B]&&s.push(B)}}}return s.join(" ")}s.exports?(classNames.default=classNames,s.exports=classNames):void 0!==(g=(function(){return classNames}).apply(u,[]))&&(s.exports=g)}()},92594:function(s){"use strict";function assign(s,u){for(let g in u)Object.defineProperty(s,g,{value:u[g],enumerable:!0,configurable:!0});return s}function createError(s,u,g){if(!s||"string"==typeof s)throw TypeError("Please pass an Error to err-code");g||(g={}),"object"==typeof u&&(g=u,u=""),u&&(g.code=u);try{return assign(s,g)}catch(T){g.message=s.message,g.stack=s.stack;let ErrClass=function(){};ErrClass.prototype=Object.create(Object.getPrototypeOf(s));let u=assign(new ErrClass,g);return u}}s.exports=createError},37814:function(s,u,g){"use strict";let T=g(28587),{fromString:A}=g(34901);let Bucket=class Bucket{constructor(s,u,g=0){this._options=s,this._popCount=0,this._parent=u,this._posAtParent=g,this._children=new T,this.key=null}async put(s,u){let g=await this._findNewBucketAndPos(s);await g.bucket._putAt(g,s,u)}async get(s){let u=await this._findChild(s);if(u)return u.value}async del(s){let u=await this._findPlace(s),g=u.bucket._at(u.pos);g&&g.key===s&&u.bucket._delAt(u.pos)}leafCount(){let s=this._children.compactArray();return s.reduce((s,u)=>u instanceof Bucket?s+u.leafCount():s+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let s=this._children.compactArray();for(let u of s)u instanceof Bucket?yield*u.eachLeafSeries():yield u;return[]}serialize(s,u){let g=[];return u(this._children.reduce((g,T,A)=>(T&&(T instanceof Bucket?g.push(T.serialize(s,u)):g.push(s(T,A))),g),g))}asyncTransform(s,u){return asyncTransformBucket(this,s,u)}toJSON(){return this.serialize(mapNode,reduceNodes)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(s){let u=await this._findPlace(s),g=u.bucket._at(u.pos);if(!(g instanceof Bucket)&&g&&g.key===s)return g}async _findPlace(s){let u=this._options.hash("string"==typeof s?A(s):s),g=await u.take(this._options.bits),T=this._children.get(g);return T instanceof Bucket?T._findPlace(u):{bucket:this,pos:g,hash:u,existingChild:T}}async _findNewBucketAndPos(s){let u=await this._findPlace(s);if(u.existingChild&&u.existingChild.key!==s){let s=new Bucket(this._options,u.bucket,u.pos);u.bucket._putObjectAt(u.pos,s);let g=await s._findPlace(u.existingChild.hash);return g.bucket._putAt(g,u.existingChild.key,u.existingChild.value),s._findNewBucketAndPos(u.hash)}return u}_putAt(s,u,g){this._putObjectAt(s.pos,{key:u,value:g,hash:s.hash})}_putObjectAt(s,u){!this._children.get(s)&&this._popCount++,this._children.set(s,u)}_delAt(s){if(-1===s)throw Error("Invalid position");this._children.get(s)&&this._popCount--,this._children.unset(s),this._level()}_level(){if(this._parent&&this._popCount<=1){if(1===this._popCount){let s=this._children.find(exists);if(s&&!(s instanceof Bucket)){let u=s.hash;u.untake(this._options.bits);let g={pos:this._posAtParent,hash:u,bucket:this._parent};this._parent._putAt(g,s.key,s.value)}}else this._parent._delAt(this._posAtParent)}}_at(s){return this._children.get(s)}};function exists(s){return!!s}function mapNode(s,u){return s.key}function reduceNodes(s){return s}async function asyncTransformBucket(s,u,g){let T=[];for(let A of s._children.compactArray())if(A instanceof Bucket)await asyncTransformBucket(A,u,g);else{let g=await u(A);T.push({bitField:s._children.bitField(),children:g})}return g(T)}s.exports=Bucket},71492:function(s){"use strict";let u=[255,254,252,248,240,224,192,128],g=[1,3,7,15,31,63,127,255];function byteBitsToInt(s,u,g){let T=maskFor(u,g);return(s&T)>>>u}function maskFor(s,T){return u[s]&g[Math.min(T+s-1,7)]}s.exports=class{constructor(s){this._value=s,this._currentBytePos=s.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(s){let u=s,g=0;for(;u&&this._haveBits();){let s=this._value[this._currentBytePos],T=this._currentBitPos+1,A=Math.min(T,u),E=byteBitsToInt(s,T-A,A);g=(g<<A)+E,u-=A,this._currentBitPos-=A,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return g}untake(s){for(this._currentBitPos+=s;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}},61016:function(s,u,g){"use strict";let T=g(71492),{concat:A}=g(72281);function wrapHash(s){return function(u){return u instanceof InfiniteHash?u:new InfiniteHash(u,s)}}let InfiniteHash=class InfiniteHash{constructor(s,u){if(!(s instanceof Uint8Array))throw Error("can only hash Uint8Arrays");this._value=s,this._hashFn=u,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(s){let u=s;for(;this._availableBits<u;)await this._produceMoreBits();let g=0;for(;u>0;){let s=this._buffers[this._currentBufferIndex],T=Math.min(s.availableBits(),u),A=s.take(T);g=(g<<T)+A,u-=T,this._availableBits-=T,0===s.availableBits()&&this._currentBufferIndex++}return g}untake(s){let u=s;for(;u>0;){let s=this._buffers[this._currentBufferIndex],g=Math.min(s.totalBits()-s.availableBits(),u);s.untake(g),u-=g,this._availableBits+=g,this._currentBufferIndex>0&&s.totalBits()===s.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let s=this._depth?A([this._value,Uint8Array.from([this._depth])]):this._value,u=await this._hashFn(s),g=new T(u);this._buffers.push(g),this._availableBits+=g.availableBits()}};s.exports=wrapHash,s.exports.InfiniteHash=InfiniteHash},13069:function(s,u,g){"use strict";let T=g(37814),A=g(61016);function createHAMT(s){if(!s||!s.hashFn)throw Error("please define an options.hashFn");let u={bits:s.bits||8,hash:A(s.hashFn)};return new T(u)}s.exports={createHAMT,Bucket:T}},30361:function(s){"use strict";s.exports=s=>{if("[object Object]"!==Object.prototype.toString.call(s))return!1;let u=Object.getPrototypeOf(s);return null===u||u===Object.prototype}},27773:function(s){"use strict";let all=async s=>{let u=[];for await(let g of s)u.push(g);return u};s.exports=all},3717:function(s){"use strict";async function*batch(s,u=1){let g=[];for await(let T of(u<1&&(u=1),s))for(g.push(T);g.length>=u;)yield g.slice(0,u),g=g.slice(u);for(;g.length;)yield g.slice(0,u),g=g.slice(u)}s.exports=batch},84998:function(s){"use strict";let drain=async s=>{for await(let u of s);};s.exports=drain},61890:function(s){"use strict";let filter=async function*(s,u){for await(let g of s)await u(g)&&(yield g)};s.exports=filter},77966:function(s){"use strict";let last=async s=>{let u;for await(let g of s)u=g;return u};s.exports=last},20524:function(s){"use strict";let map=async function*(s,u){for await(let g of s)yield u(g)};s.exports=map},74643:function(s,u,g){"use strict";let T=g(3717);async function*parallelBatch(s,u=1){for await(let g of T(s,u)){let s=g.map(s=>s().then(s=>({ok:!0,value:s}),s=>({ok:!1,err:s})));for(let u=0;u<s.length;u++){let g=await s[u];if(g.ok)yield g.value;else throw g.err}}}s.exports=parallelBatch},81412:function(s){"use strict";function peekableIterator(s){let[u,g]=s[Symbol.asyncIterator]?[s[Symbol.asyncIterator](),Symbol.asyncIterator]:[s[Symbol.iterator](),Symbol.iterator],T=[];return{peek:()=>u.next(),push:s=>{T.push(s)},next:()=>T.length?{done:!1,value:T.shift()}:u.next(),[g](){return this}}}s.exports=peekableIterator},4760:function(s){let rawPipe=(...s)=>{let u;for(;s.length;)u=s.shift()(u);return u},isIterable=s=>s&&("function"==typeof s[Symbol.asyncIterator]||"function"==typeof s[Symbol.iterator]||"function"==typeof s.next),isDuplex=s=>s&&"function"==typeof s.sink&&isIterable(s.source),duplexPipelineFn=s=>u=>(s.sink(u),s.source),pipe=(...s)=>{if(isDuplex(s[0])){let u=s[0];s[0]=()=>u.source}else if(isIterable(s[0])){let u=s[0];s[0]=()=>u}if(s.length>1&&isDuplex(s[s.length-1])&&(s[s.length-1]=s[s.length-1].sink),s.length>2)for(let u=1;u<s.length-1;u++)isDuplex(s[u])&&(s[u]=duplexPipelineFn(s[u]));return rawPipe(...s)};s.exports=pipe,s.exports.pipe=pipe,s.exports.rawPipe=rawPipe,s.exports.isIterable=isIterable,s.exports.isDuplex=isDuplex},33107:function(s){"use strict";let take=async function*(s,u){let g=0;if(!(u<1)){for await(let T of s)if(yield T,++g===u)return}};s.exports=take},93498:function(s,u,g){"use strict";let T=g(30361),{hasOwnProperty:A}=Object.prototype,{propertyIsEnumerable:E}=Object,defineProperty=(s,u,g)=>Object.defineProperty(s,u,{value:g,writable:!0,enumerable:!0,configurable:!0}),B=this,S={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=s=>{let u=[];for(let g in s)A.call(s,g)&&u.push(g);if(Object.getOwnPropertySymbols){let g=Object.getOwnPropertySymbols(s);for(let T of g)E.call(s,T)&&u.push(T)}return u};function clone(s){return Array.isArray(s)?cloneArray(s):T(s)?cloneOptionObject(s):s}function cloneArray(s){let u=s.slice(0,0);return getEnumerableOwnPropertyKeys(s).forEach(g=>{defineProperty(u,g,clone(s[g]))}),u}function cloneOptionObject(s){let u=null===Object.getPrototypeOf(s)?Object.create(null):{};return getEnumerableOwnPropertyKeys(s).forEach(g=>{defineProperty(u,g,clone(s[g]))}),u}let mergeKeys=(s,u,g,T)=>(g.forEach(g=>{void 0===u[g]&&T.ignoreUndefined||(g in s&&s[g]!==Object.getPrototypeOf(s)?defineProperty(s,g,merge(s[g],u[g],T)):defineProperty(s,g,clone(u[g])))}),s),concatArrays=(s,u,g)=>{let T=s.slice(0,0),E=0;return[s,u].forEach(u=>{let B=[];for(let g=0;g<u.length;g++)A.call(u,g)&&(B.push(String(g)),u===s?defineProperty(T,E++,u[g]):defineProperty(T,E++,clone(u[g])));T=mergeKeys(T,u,getEnumerableOwnPropertyKeys(u).filter(s=>!B.includes(s)),g)}),T};function merge(s,u,g){return g.concatArrays&&Array.isArray(s)&&Array.isArray(u)?concatArrays(s,u,g):T(u)&&T(s)?mergeKeys(s,u,getEnumerableOwnPropertyKeys(u),g):clone(u)}s.exports=function(...s){let u=merge(clone(S),this!==B&&this||{},S),g={_:{}};for(let A of s)if(void 0!==A){if(!T(A))throw TypeError("`"+A+"` is not an Option Object");g=merge(g,{_:A},u)}return g._}},87176:function(s,u,g){s.exports=g(9838)},9838:function(s,u){!function(g,T){"use strict";var A={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function _validBytes(s){if(!Array.isArray(s)&&!ArrayBuffer.isView(s))return!1;for(var u=0;u<s.length;u++)if(!Number.isInteger(s[u])||s[u]<0||s[u]>255)return!1;return!0}function _x86Multiply(s,u){return(65535&s)*u+(((s>>>16)*u&65535)<<16)}function _x86Rotl(s,u){return s<<u|s>>>32-u}function _x86Fmix(s){return s^=s>>>16,s=_x86Multiply(s,2246822507),s^=s>>>13,s=_x86Multiply(s,3266489909),s^=s>>>16}function _x64Add(s,u){s=[s[0]>>>16,65535&s[0],s[1]>>>16,65535&s[1]],u=[u[0]>>>16,65535&u[0],u[1]>>>16,65535&u[1]];var g=[0,0,0,0];return g[3]+=s[3]+u[3],g[2]+=g[3]>>>16,g[3]&=65535,g[2]+=s[2]+u[2],g[1]+=g[2]>>>16,g[2]&=65535,g[1]+=s[1]+u[1],g[0]+=g[1]>>>16,g[1]&=65535,g[0]+=s[0]+u[0],g[0]&=65535,[g[0]<<16|g[1],g[2]<<16|g[3]]}function _x64Multiply(s,u){s=[s[0]>>>16,65535&s[0],s[1]>>>16,65535&s[1]],u=[u[0]>>>16,65535&u[0],u[1]>>>16,65535&u[1]];var g=[0,0,0,0];return g[3]+=s[3]*u[3],g[2]+=g[3]>>>16,g[3]&=65535,g[2]+=s[2]*u[3],g[1]+=g[2]>>>16,g[2]&=65535,g[2]+=s[3]*u[2],g[1]+=g[2]>>>16,g[2]&=65535,g[1]+=s[1]*u[3],g[0]+=g[1]>>>16,g[1]&=65535,g[1]+=s[2]*u[2],g[0]+=g[1]>>>16,g[1]&=65535,g[1]+=s[3]*u[1],g[0]+=g[1]>>>16,g[1]&=65535,g[0]+=s[0]*u[3]+s[1]*u[2]+s[2]*u[1]+s[3]*u[0],g[0]&=65535,[g[0]<<16|g[1],g[2]<<16|g[3]]}function _x64Rotl(s,u){return 32==(u%=64)?[s[1],s[0]]:u<32?[s[0]<<u|s[1]>>>32-u,s[1]<<u|s[0]>>>32-u]:(u-=32,[s[1]<<u|s[0]>>>32-u,s[0]<<u|s[1]>>>32-u])}function _x64LeftShift(s,u){return 0==(u%=64)?s:u<32?[s[0]<<u|s[1]>>>32-u,s[1]<<u]:[s[1]<<u-32,0]}function _x64Xor(s,u){return[s[0]^u[0],s[1]^u[1]]}function _x64Fmix(s){return s=_x64Multiply(s=_x64Xor(s,[0,s[0]>>>1]),[4283543511,3981806797]),s=_x64Multiply(s=_x64Xor(s,[0,s[0]>>>1]),[3301882366,444984403]),s=_x64Xor(s,[0,s[0]>>>1])}A.x86.hash32=function(s,u){if(!A.inputValidation||_validBytes(s)){u=u||0;for(var g=s.length%4,T=s.length-g,E=u,B=0,S=3432918353,I=461845907,C=0;C<T;C+=4)B=_x86Rotl(B=_x86Multiply(B=s[C]|s[C+1]<<8|s[C+2]<<16|s[C+3]<<24,S),15),E^=B=_x86Multiply(B,I),E=_x86Multiply(E=_x86Rotl(E,13),5)+3864292196;switch(B=0,g){case 3:B^=s[C+2]<<16;case 2:B^=s[C+1]<<8;case 1:B^=s[C],B=_x86Rotl(B=_x86Multiply(B,S),15),E^=B=_x86Multiply(B,I)}return E^=s.length,(E=_x86Fmix(E))>>>0}},A.x86.hash128=function(s,u){if(!A.inputValidation||_validBytes(s)){u=u||0;for(var g=s.length%16,T=s.length-g,E=u,B=u,S=u,I=u,C=0,O=0,N=0,D=0,R=597399067,L=2869860233,U=951274213,P=2716044179,M=0;M<T;M+=16)C=s[M]|s[M+1]<<8|s[M+2]<<16|s[M+3]<<24,O=s[M+4]|s[M+5]<<8|s[M+6]<<16|s[M+7]<<24,N=s[M+8]|s[M+9]<<8|s[M+10]<<16|s[M+11]<<24,D=s[M+12]|s[M+13]<<8|s[M+14]<<16|s[M+15]<<24,C=_x86Rotl(C=_x86Multiply(C,R),15),E^=C=_x86Multiply(C,L),E=_x86Multiply(E=_x86Rotl(E,19)+B,5)+1444728091,O=_x86Rotl(O=_x86Multiply(O,L),16),B^=O=_x86Multiply(O,U),B=_x86Multiply(B=_x86Rotl(B,17)+S,5)+197830471,N=_x86Rotl(N=_x86Multiply(N,U),17),S^=N=_x86Multiply(N,P),S=_x86Multiply(S=_x86Rotl(S,15)+I,5)+2530024501,D=_x86Rotl(D=_x86Multiply(D,P),18),I^=D=_x86Multiply(D,R),I=_x86Multiply(I=_x86Rotl(I,13)+E,5)+850148119;switch(C=0,O=0,N=0,D=0,g){case 15:D^=s[M+14]<<16;case 14:D^=s[M+13]<<8;case 13:D^=s[M+12],D=_x86Rotl(D=_x86Multiply(D,P),18),I^=D=_x86Multiply(D,R);case 12:N^=s[M+11]<<24;case 11:N^=s[M+10]<<16;case 10:N^=s[M+9]<<8;case 9:N^=s[M+8],N=_x86Rotl(N=_x86Multiply(N,U),17),S^=N=_x86Multiply(N,P);case 8:O^=s[M+7]<<24;case 7:O^=s[M+6]<<16;case 6:O^=s[M+5]<<8;case 5:O^=s[M+4],O=_x86Rotl(O=_x86Multiply(O,L),16),B^=O=_x86Multiply(O,U);case 4:C^=s[M+3]<<24;case 3:C^=s[M+2]<<16;case 2:C^=s[M+1]<<8;case 1:C^=s[M],C=_x86Rotl(C=_x86Multiply(C,R),15),E^=C=_x86Multiply(C,L)}return E^=s.length,B^=s.length,S^=s.length,I^=s.length,E+=B+S+I,B+=E,S+=E,I+=E,E=_x86Fmix(E),B=_x86Fmix(B),S=_x86Fmix(S),I=_x86Fmix(I),E+=B+S+I,B+=E,S+=E,I+=E,("00000000"+(E>>>0).toString(16)).slice(-8)+("00000000"+(B>>>0).toString(16)).slice(-8)+("00000000"+(S>>>0).toString(16)).slice(-8)+("00000000"+(I>>>0).toString(16)).slice(-8)}},A.x64.hash128=function(s,u){if(!A.inputValidation||_validBytes(s)){u=u||0;for(var g=s.length%16,T=s.length-g,E=[0,u],B=[0,u],S=[0,0],I=[0,0],C=[2277735313,289559509],O=[1291169091,658871167],N=0;N<T;N+=16)S=[s[N+4]|s[N+5]<<8|s[N+6]<<16|s[N+7]<<24,s[N]|s[N+1]<<8|s[N+2]<<16|s[N+3]<<24],I=[s[N+12]|s[N+13]<<8|s[N+14]<<16|s[N+15]<<24,s[N+8]|s[N+9]<<8|s[N+10]<<16|s[N+11]<<24],S=_x64Rotl(S=_x64Multiply(S,C),31),E=_x64Add(E=_x64Rotl(E=_x64Xor(E,S=_x64Multiply(S,O)),27),B),E=_x64Add(_x64Multiply(E,[0,5]),[0,1390208809]),I=_x64Rotl(I=_x64Multiply(I,O),33),B=_x64Add(B=_x64Rotl(B=_x64Xor(B,I=_x64Multiply(I,C)),31),E),B=_x64Add(_x64Multiply(B,[0,5]),[0,944331445]);switch(S=[0,0],I=[0,0],g){case 15:I=_x64Xor(I,_x64LeftShift([0,s[N+14]],48));case 14:I=_x64Xor(I,_x64LeftShift([0,s[N+13]],40));case 13:I=_x64Xor(I,_x64LeftShift([0,s[N+12]],32));case 12:I=_x64Xor(I,_x64LeftShift([0,s[N+11]],24));case 11:I=_x64Xor(I,_x64LeftShift([0,s[N+10]],16));case 10:I=_x64Xor(I,_x64LeftShift([0,s[N+9]],8));case 9:I=_x64Rotl(I=_x64Multiply(I=_x64Xor(I,[0,s[N+8]]),O),33),B=_x64Xor(B,I=_x64Multiply(I,C));case 8:S=_x64Xor(S,_x64LeftShift([0,s[N+7]],56));case 7:S=_x64Xor(S,_x64LeftShift([0,s[N+6]],48));case 6:S=_x64Xor(S,_x64LeftShift([0,s[N+5]],40));case 5:S=_x64Xor(S,_x64LeftShift([0,s[N+4]],32));case 4:S=_x64Xor(S,_x64LeftShift([0,s[N+3]],24));case 3:S=_x64Xor(S,_x64LeftShift([0,s[N+2]],16));case 2:S=_x64Xor(S,_x64LeftShift([0,s[N+1]],8));case 1:S=_x64Rotl(S=_x64Multiply(S=_x64Xor(S,[0,s[N]]),C),31),E=_x64Xor(E,S=_x64Multiply(S,O))}return E=_x64Xor(E,[0,s.length]),E=_x64Add(E,B=_x64Xor(B,[0,s.length])),B=_x64Add(B,E),E=_x64Fmix(E),E=_x64Add(E,B=_x64Fmix(B)),B=_x64Add(B,E),("00000000"+(E[0]>>>0).toString(16)).slice(-8)+("00000000"+(E[1]>>>0).toString(16)).slice(-8)+("00000000"+(B[0]>>>0).toString(16)).slice(-8)+("00000000"+(B[1]>>>0).toString(16)).slice(-8)}},s.exports&&(u=s.exports=A),u.murmurHash3=A}(0)},62597:function(s,u,g){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),function(s,u){for(var g in u)Object.defineProperty(s,g,{enumerable:!0,get:u[g]})}(u,{default:function(){return I},unstable_getImgProps:function(){return unstable_getImgProps}});let T=g(21024),A=g(33655),E=g(7707),B=g(96964),S=T._(g(85324)),unstable_getImgProps=s=>{(0,E.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:u}=(0,A.getImgProps)(s,{defaultLoader:S.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[s,g]of Object.entries(u))void 0===g&&delete u[s];return{props:u}},I=B.Image},10959:function(){},31162:function(s,u,g){"use strict";var T;T={value:!0},Object.defineProperty(u,"$",{enumerable:!0,get:function(){return createServerReference}});let A=g(22655);function createServerReference(s){let{createServerReference:u}=g(12139);return u(s,A.callServer)}},470:function(s,u){"use strict";var g;g={value:!0},g={enumerable:!0,get:function(){return createActionProxy}};let T=Symbol.for("react.server.reference");function createActionProxy(s,u,g,A){function bindImpl(s,...u){let g=this,newAction=async function(...s){return A?A(newAction.$$bound.concat(s)):g(...newAction.$$bound,...s)};for(let s of["$$typeof","$$id","$$FORM_ACTION"])newAction[s]=g[s];return newAction.$$bound=(g.$$bound||[]).concat(u),newAction.bind=bindImpl.bind(newAction),newAction}Object.defineProperties(g,{$$typeof:{value:T},$$id:{value:s},$$bound:{value:u},bind:{value:bindImpl}})}},16691:function(s,u,g){s.exports=g(62597)},61396:function(s,u,g){s.exports=g(34724)},24033:function(s,u,g){s.exports=g(20290)},94627:function(s,u,g){"use strict";let T=g(87793),A=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];let AbortError=class AbortError extends Error{constructor(s){super(),s instanceof Error?(this.originalError=s,{message:s}=s):(this.originalError=Error(s),this.originalError.stack=this.stack),this.name="AbortError",this.message=s}};let decorateErrorWithCounts=(s,u,g)=>{let T=g.retries-(u-1);return s.attemptNumber=u,s.retriesLeft=T,s},isNetworkError=s=>A.includes(s),pRetry=(s,u)=>new Promise((g,A)=>{u={onFailedAttempt:()=>{},retries:10,...u};let E=T.operation(u);E.attempt(async T=>{try{g(await s(T))}catch(s){if(!(s instanceof Error)){A(TypeError(`Non-error was thrown: "${s}". You should only throw errors.`));return}if(s instanceof AbortError)E.stop(),A(s.originalError);else if(s instanceof TypeError&&!isNetworkError(s.message))E.stop(),A(s);else{decorateErrorWithCounts(s,T,u);try{await u.onFailedAttempt(s)}catch(s){A(s);return}E.retry(s)||A(E.mainError())}}})});s.exports=pRetry,s.exports.default=pRetry,s.exports.AbortError=AbortError},33018:function(s,u,g){"use strict";var T=g(61289);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,s.exports=function(){function shim(s,u,g,A,E,B){if(B!==T){var S=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}function getShim(){return shim}shim.isRequired=shim;var s={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s}},74275:function(s,u,g){s.exports=g(33018)()},61289:function(s){"use strict";var u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";s.exports=u},24481:function(s,u,g){"use strict";s.exports=g(59286)},59286:function(s,u,g){"use strict";var T=u;function configure(){T.util._configure(),T.Writer._configure(T.BufferWriter),T.Reader._configure(T.BufferReader)}T.build="minimal",T.Writer=g(68045),T.BufferWriter=g(63654),T.Reader=g(70911),T.BufferReader=g(15957),T.util=g(86642),T.rpc=g(30375),T.roots=g(65002),T.configure=configure,configure()},70911:function(s,u,g){"use strict";s.exports=Reader;var T,A=g(86642),E=A.LongBits,B=A.utf8;function indexOutOfRange(s,u){return RangeError("index out of range: "+s.pos+" + "+(u||1)+" > "+s.len)}function Reader(s){this.buf=s,this.pos=0,this.len=s.length}var S="undefined"!=typeof Uint8Array?function(s){if(s instanceof Uint8Array||Array.isArray(s))return new Reader(s);throw Error("illegal buffer")}:function(s){if(Array.isArray(s))return new Reader(s);throw Error("illegal buffer")},create=function(){return A.Buffer?function(s){return(Reader.create=function(s){return A.Buffer.isBuffer(s)?new T(s):S(s)})(s)}:S};function readLongVarint(){var s=new E(0,0),u=0;if(this.len-this.pos>4){for(;u<4;++u)if(s.lo=(s.lo|(127&this.buf[this.pos])<<7*u)>>>0,this.buf[this.pos++]<128)return s;if(s.lo=(s.lo|(127&this.buf[this.pos])<<28)>>>0,s.hi=(s.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return s;u=0}else{for(;u<3;++u){if(this.pos>=this.len)throw indexOutOfRange(this);if(s.lo=(s.lo|(127&this.buf[this.pos])<<7*u)>>>0,this.buf[this.pos++]<128)return s}return s.lo=(s.lo|(127&this.buf[this.pos++])<<7*u)>>>0,s}if(this.len-this.pos>4){for(;u<5;++u)if(s.hi=(s.hi|(127&this.buf[this.pos])<<7*u+3)>>>0,this.buf[this.pos++]<128)return s}else for(;u<5;++u){if(this.pos>=this.len)throw indexOutOfRange(this);if(s.hi=(s.hi|(127&this.buf[this.pos])<<7*u+3)>>>0,this.buf[this.pos++]<128)return s}throw Error("invalid varint encoding")}function readFixed32_end(s,u){return(s[u-4]|s[u-3]<<8|s[u-2]<<16|s[u-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new E(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader.create=create(),Reader.prototype._slice=A.Array.prototype.subarray||A.Array.prototype.slice,Reader.prototype.uint32=function(){var s=4294967295;return function(){if(s=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(s=(s|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(s=(s|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(s=(s|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(s=(s|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return s;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return s}}(),Reader.prototype.int32=function(){return 0|this.uint32()},Reader.prototype.sint32=function(){var s=this.uint32();return s>>>1^-(1&s)|0},Reader.prototype.bool=function(){return 0!==this.uint32()},Reader.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var s=A.float.readFloatLE(this.buf,this.pos);return this.pos+=4,s},Reader.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var s=A.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,s},Reader.prototype.bytes=function(){var s=this.uint32(),u=this.pos,g=this.pos+s;if(g>this.len)throw indexOutOfRange(this,s);return(this.pos+=s,Array.isArray(this.buf))?this.buf.slice(u,g):u===g?new this.buf.constructor(0):this._slice.call(this.buf,u,g)},Reader.prototype.string=function(){var s=this.bytes();return B.read(s,0,s.length)},Reader.prototype.skip=function(s){if("number"==typeof s){if(this.pos+s>this.len)throw indexOutOfRange(this,s);this.pos+=s}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(128&this.buf[this.pos++]);return this},Reader.prototype.skipType=function(s){switch(s){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(s=7&this.uint32());)this.skipType(s);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+s+" at offset "+this.pos)}return this},Reader._configure=function(s){T=s,Reader.create=create(),T._configure();var u=A.Long?"toLong":"toNumber";A.merge(Reader.prototype,{int64:function(){return readLongVarint.call(this)[u](!1)},uint64:function(){return readLongVarint.call(this)[u](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[u](!1)},fixed64:function(){return readFixed64.call(this)[u](!0)},sfixed64:function(){return readFixed64.call(this)[u](!1)}})}},15957:function(s,u,g){"use strict";s.exports=BufferReader;var T=g(70911);(BufferReader.prototype=Object.create(T.prototype)).constructor=BufferReader;var A=g(86642);function BufferReader(s){T.call(this,s)}BufferReader._configure=function(){A.Buffer&&(BufferReader.prototype._slice=A.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var s=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+s,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+s,this.len))},BufferReader._configure()},65002:function(s){"use strict";s.exports={}},30375:function(s,u,g){"use strict";u.Service=g(89167)},89167:function(s,u,g){"use strict";s.exports=Service;var T=g(86642);function Service(s,u,g){if("function"!=typeof s)throw TypeError("rpcImpl must be a function");T.EventEmitter.call(this),this.rpcImpl=s,this.requestDelimited=!!u,this.responseDelimited=!!g}(Service.prototype=Object.create(T.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function rpcCall(s,u,g,A,E){if(!A)throw TypeError("request must be specified");var B=this;if(!E)return T.asPromise(rpcCall,B,s,u,g,A);if(!B.rpcImpl){setTimeout(function(){E(Error("already ended"))},0);return}try{return B.rpcImpl(s,u[B.requestDelimited?"encodeDelimited":"encode"](A).finish(),function(u,T){if(u)return B.emit("error",u,s),E(u);if(null===T){B.end(!0);return}if(!(T instanceof g))try{T=g[B.responseDelimited?"decodeDelimited":"decode"](T)}catch(u){return B.emit("error",u,s),E(u)}return B.emit("data",T,s),E(null,T)})}catch(u){B.emit("error",u,s),setTimeout(function(){E(u)},0);return}},Service.prototype.end=function(s){return this.rpcImpl&&(s||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},66341:function(s,u,g){"use strict";s.exports=LongBits;var T=g(86642);function LongBits(s,u){this.lo=s>>>0,this.hi=u>>>0}var A=LongBits.zero=new LongBits(0,0);A.toNumber=function(){return 0},A.zzEncode=A.zzDecode=function(){return this},A.length=function(){return 1};var E=LongBits.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";LongBits.fromNumber=function(s){if(0===s)return A;var u=s<0;u&&(s=-s);var g=s>>>0,T=(s-g)/4294967296>>>0;return u&&(T=~T>>>0,g=~g>>>0,++g>4294967295&&(g=0,++T>4294967295&&(T=0))),new LongBits(g,T)},LongBits.from=function(s){if("number"==typeof s)return LongBits.fromNumber(s);if(T.isString(s)){if(!T.Long)return LongBits.fromNumber(parseInt(s,10));s=T.Long.fromString(s)}return s.low||s.high?new LongBits(s.low>>>0,s.high>>>0):A},LongBits.prototype.toNumber=function(s){if(!s&&this.hi>>>31){var u=~this.lo+1>>>0,g=~this.hi>>>0;return u||(g=g+1>>>0),-(u+4294967296*g)}return this.lo+4294967296*this.hi},LongBits.prototype.toLong=function(s){return T.Long?new T.Long(0|this.lo,0|this.hi,!!s):{low:0|this.lo,high:0|this.hi,unsigned:!!s}};var B=String.prototype.charCodeAt;LongBits.fromHash=function(s){return s===E?A:new LongBits((B.call(s,0)|B.call(s,1)<<8|B.call(s,2)<<16|B.call(s,3)<<24)>>>0,(B.call(s,4)|B.call(s,5)<<8|B.call(s,6)<<16|B.call(s,7)<<24)>>>0)},LongBits.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits.prototype.zzEncode=function(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this},LongBits.prototype.zzDecode=function(){var s=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this},LongBits.prototype.length=function(){var s=this.lo,u=(this.lo>>>28|this.hi<<4)>>>0,g=this.hi>>>24;return 0===g?0===u?s<16384?s<128?1:2:s<2097152?3:4:u<16384?u<128?5:6:u<2097152?7:8:g<128?9:10}},86642:function(s,u,g){"use strict";var T=u;function merge(s,u,g){for(var T=Object.keys(u),A=0;A<T.length;++A)void 0!==s[T[A]]&&g||(s[T[A]]=u[T[A]]);return s}function newError(s){function CustomError(s,u){if(!(this instanceof CustomError))return new CustomError(s,u);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,CustomError):Object.defineProperty(this,"stack",{value:Error().stack||""}),u&&merge(this,u)}return(CustomError.prototype=Object.create(Error.prototype)).constructor=CustomError,Object.defineProperty(CustomError.prototype,"name",{get:function(){return s}}),CustomError.prototype.toString=function(){return this.name+": "+this.message},CustomError}T.asPromise=g(22790),T.base64=g(74081),T.EventEmitter=g(15074),T.float=g(53383),T.inquire=g(84962),T.utf8=g(26503),T.pool=g(63505),T.LongBits=g(66341),T.isNode=!!(void 0!==g.g&&g.g&&g.g.process&&g.g.process.versions&&g.g.process.versions.node),T.global=T.isNode&&g.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,T.emptyArray=Object.freeze?Object.freeze([]):[],T.emptyObject=Object.freeze?Object.freeze({}):{},T.isInteger=Number.isInteger||function(s){return"number"==typeof s&&isFinite(s)&&Math.floor(s)===s},T.isString=function(s){return"string"==typeof s||s instanceof String},T.isObject=function(s){return s&&"object"==typeof s},T.isset=T.isSet=function(s,u){var g=s[u];return!!(null!=g&&s.hasOwnProperty(u))&&("object"!=typeof g||(Array.isArray(g)?g.length:Object.keys(g).length)>0)},T.Buffer=function(){try{var s=T.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch(s){return null}}(),T._Buffer_from=null,T._Buffer_allocUnsafe=null,T.newBuffer=function(s){return"number"==typeof s?T.Buffer?T._Buffer_allocUnsafe(s):new T.Array(s):T.Buffer?T._Buffer_from(s):"undefined"==typeof Uint8Array?s:new Uint8Array(s)},T.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,T.Long=T.global.dcodeIO&&T.global.dcodeIO.Long||T.global.Long||T.inquire("long"),T.key2Re=/^true|false|0|1$/,T.key32Re=/^-?(?:0|[1-9][0-9]*)$/,T.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,T.longToHash=function(s){return s?T.LongBits.from(s).toHash():T.LongBits.zeroHash},T.longFromHash=function(s,u){var g=T.LongBits.fromHash(s);return T.Long?T.Long.fromBits(g.lo,g.hi,u):g.toNumber(!!u)},T.merge=merge,T.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)},T.newError=newError,T.ProtocolError=newError("ProtocolError"),T.oneOfGetter=function(s){for(var u={},g=0;g<s.length;++g)u[s[g]]=1;return function(){for(var s=Object.keys(this),g=s.length-1;g>-1;--g)if(1===u[s[g]]&&void 0!==this[s[g]]&&null!==this[s[g]])return s[g]}},T.oneOfSetter=function(s){return function(u){for(var g=0;g<s.length;++g)s[g]!==u&&delete this[s[g]]}},T.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},T._configure=function(){var s=T.Buffer;if(!s){T._Buffer_from=T._Buffer_allocUnsafe=null;return}T._Buffer_from=s.from!==Uint8Array.from&&s.from||function(u,g){return new s(u,g)},T._Buffer_allocUnsafe=s.allocUnsafe||function(u){return new s(u)}}},68045:function(s,u,g){"use strict";s.exports=Writer;var T,A=g(86642),E=A.LongBits,B=A.base64,S=A.utf8;function Op(s,u,g){this.fn=s,this.len=u,this.next=void 0,this.val=g}function noop(){}function State(s){this.head=s.head,this.tail=s.tail,this.len=s.len,this.next=s.states}function Writer(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create=function(){return A.Buffer?function(){return(Writer.create=function(){return new T})()}:function(){return new Writer}};function writeByte(s,u,g){u[g]=255&s}function writeVarint32(s,u,g){for(;s>127;)u[g++]=127&s|128,s>>>=7;u[g]=s}function VarintOp(s,u){this.len=s,this.next=void 0,this.val=u}function writeVarint64(s,u,g){for(;s.hi;)u[g++]=127&s.lo|128,s.lo=(s.lo>>>7|s.hi<<25)>>>0,s.hi>>>=7;for(;s.lo>127;)u[g++]=127&s.lo|128,s.lo=s.lo>>>7;u[g++]=s.lo}function writeFixed32(s,u,g){u[g]=255&s,u[g+1]=s>>>8&255,u[g+2]=s>>>16&255,u[g+3]=s>>>24}Writer.create=create(),Writer.alloc=function(s){return new A.Array(s)},A.Array!==Array&&(Writer.alloc=A.pool(Writer.alloc,A.Array.prototype.subarray)),Writer.prototype._push=function(s,u,g){return this.tail=this.tail.next=new Op(s,u,g),this.len+=u,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer.prototype.uint32=function(s){return this.len+=(this.tail=this.tail.next=new VarintOp((s>>>=0)<128?1:s<16384?2:s<2097152?3:s<268435456?4:5,s)).len,this},Writer.prototype.int32=function(s){return s<0?this._push(writeVarint64,10,E.fromNumber(s)):this.uint32(s)},Writer.prototype.sint32=function(s){return this.uint32((s<<1^s>>31)>>>0)},Writer.prototype.uint64=function(s){var u=E.from(s);return this._push(writeVarint64,u.length(),u)},Writer.prototype.int64=Writer.prototype.uint64,Writer.prototype.sint64=function(s){var u=E.from(s).zzEncode();return this._push(writeVarint64,u.length(),u)},Writer.prototype.bool=function(s){return this._push(writeByte,1,s?1:0)},Writer.prototype.fixed32=function(s){return this._push(writeFixed32,4,s>>>0)},Writer.prototype.sfixed32=Writer.prototype.fixed32,Writer.prototype.fixed64=function(s){var u=E.from(s);return this._push(writeFixed32,4,u.lo)._push(writeFixed32,4,u.hi)},Writer.prototype.sfixed64=Writer.prototype.fixed64,Writer.prototype.float=function(s){return this._push(A.float.writeFloatLE,4,s)},Writer.prototype.double=function(s){return this._push(A.float.writeDoubleLE,8,s)};var I=A.Array.prototype.set?function(s,u,g){u.set(s,g)}:function(s,u,g){for(var T=0;T<s.length;++T)u[g+T]=s[T]};Writer.prototype.bytes=function(s){var u=s.length>>>0;if(!u)return this._push(writeByte,1,0);if(A.isString(s)){var g=Writer.alloc(u=B.length(s));B.decode(s,g,0),s=g}return this.uint32(u)._push(I,u,s)},Writer.prototype.string=function(s){var u=S.length(s);return u?this.uint32(u)._push(S.write,u,s):this._push(writeByte,1,0)},Writer.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer.prototype.ldelim=function(){var s=this.head,u=this.tail,g=this.len;return this.reset().uint32(g),g&&(this.tail.next=s.next,this.tail=u,this.len+=g),this},Writer.prototype.finish=function(){for(var s=this.head.next,u=this.constructor.alloc(this.len),g=0;s;)s.fn(s.val,u,g),g+=s.len,s=s.next;return u},Writer._configure=function(s){T=s,Writer.create=create(),T._configure()}},63654:function(s,u,g){"use strict";s.exports=BufferWriter;var T=g(68045);(BufferWriter.prototype=Object.create(T.prototype)).constructor=BufferWriter;var A=g(86642);function BufferWriter(){T.call(this)}function writeStringBuffer(s,u,g){s.length<40?A.utf8.write(s,u,g):u.utf8Write?u.utf8Write(s,g):u.write(s,g)}BufferWriter._configure=function(){BufferWriter.alloc=A._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=A.Buffer&&A.Buffer.prototype instanceof Uint8Array&&"set"===A.Buffer.prototype.set.name?function(s,u,g){u.set(s,g)}:function(s,u,g){if(s.copy)s.copy(u,g,0,s.length);else for(var T=0;T<s.length;)u[g++]=s[T++]}},BufferWriter.prototype.bytes=function(s){A.isString(s)&&(s=A._Buffer_from(s,"base64"));var u=s.length>>>0;return this.uint32(u),u&&this._push(BufferWriter.writeBytesBuffer,u,s),this},BufferWriter.prototype.string=function(s){var u=A.Buffer.byteLength(s);return this.uint32(u),u&&this._push(writeStringBuffer,u,s),this},BufferWriter._configure()},84986:function(s,u,g){let{instantiate:T}=g(60379);function loadWebAssembly(s={}){if(!loadWebAssembly.supported)return null;var u=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return T(new Response(new Blob([u],{type:"application/wasm"})),s)}loadWebAssembly.supported="undefined"!=typeof WebAssembly,s.exports=loadWebAssembly},11037:function(s,u,g){let T=g(37987),A=g(84986),create=async(s,u,g,E,B)=>{let S=await A();return new T(S,s,u,g,E,B)};s.exports={Rabin:T,create}},37987:function(s){let Rabin=class Rabin{constructor(s,u=12,g=8192,T=32768,A=64,E){this.bits=u,this.min=g,this.max=T,this.asModule=s,this.rabin=new s.Rabin(u,g,T,A,E),this.polynomial=E}fingerprint(s){let{__retain:u,__release:g,__allocArray:T,__getInt32Array:A,Int32Array_ID:E,Uint8Array_ID:B}=this.asModule,S=new Int32Array(Math.ceil(s.length/this.min)),I=u(T(E,S)),C=u(T(B,s)),O=this.rabin.fingerprint(C,I),N=A(O);g(C),g(I);let D=N.indexOf(0);return D>=0?N.subarray(0,D):N}};s.exports=Rabin},87793:function(s,u,g){s.exports=g(24060)},24060:function(s,u,g){var T=g(56461);u.operation=function(s){var g=u.timeouts(s);return new T(g,{forever:s&&(s.forever||s.retries===1/0),unref:s&&s.unref,maxRetryTime:s&&s.maxRetryTime})},u.timeouts=function(s){if(s instanceof Array)return[].concat(s);var u={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var g in s)u[g]=s[g];if(u.minTimeout>u.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var T=[],A=0;A<u.retries;A++)T.push(this.createTimeout(A,u));return s&&s.forever&&!T.length&&T.push(this.createTimeout(A,u)),T.sort(function(s,u){return s-u}),T},u.createTimeout=function(s,u){return Math.min(Math.round((u.randomize?Math.random()+1:1)*Math.max(u.minTimeout,1)*Math.pow(u.factor,s)),u.maxTimeout)},u.wrap=function(s,g,T){if(g instanceof Array&&(T=g,g=null),!T)for(var A in T=[],s)"function"==typeof s[A]&&T.push(A);for(var E=0;E<T.length;E++){var B=T[E],S=s[B];s[B]=(function(T){var A=u.operation(g),E=Array.prototype.slice.call(arguments,1),B=E.pop();E.push(function(s){A.retry(s)||(s&&(arguments[0]=A.mainError()),B.apply(this,arguments))}),A.attempt(function(){T.apply(s,E)})}).bind(s,S),s[B].options=g}}},56461:function(s){function RetryOperation(s,u){"boolean"==typeof u&&(u={forever:u}),this._originalTimeouts=JSON.parse(JSON.stringify(s)),this._timeouts=s,this._options=u||{},this._maxRetryTime=u&&u.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}s.exports=RetryOperation,RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},RetryOperation.prototype.retry=function(s){if(this._timeout&&clearTimeout(this._timeout),!s)return!1;var u=new Date().getTime();if(s&&u-this._operationStart>=this._maxRetryTime)return this._errors.push(s),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(s);var g=this._timeouts.shift();if(void 0===g){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),g=this._cachedTimeouts.slice(-1)}var T=this;return this._timer=setTimeout(function(){T._attempts++,T._operationTimeoutCb&&(T._timeout=setTimeout(function(){T._operationTimeoutCb(T._attempts)},T._operationTimeout),T._options.unref&&T._timeout.unref()),T._fn(T._attempts)},g),this._options.unref&&this._timer.unref(),!0},RetryOperation.prototype.attempt=function(s,u){this._fn=s,u&&(u.timeout&&(this._operationTimeout=u.timeout),u.cb&&(this._operationTimeoutCb=u.cb));var g=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){g._operationTimeoutCb()},g._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},RetryOperation.prototype.try=function(s){console.log("Using RetryOperation.try() is deprecated"),this.attempt(s)},RetryOperation.prototype.start=function(s){console.log("Using RetryOperation.start() is deprecated"),this.attempt(s)},RetryOperation.prototype.start=RetryOperation.prototype.try,RetryOperation.prototype.errors=function(){return this._errors},RetryOperation.prototype.attempts=function(){return this._attempts},RetryOperation.prototype.mainError=function(){if(0===this._errors.length)return null;for(var s={},u=null,g=0,T=0;T<this._errors.length;T++){var A=this._errors[T],E=A.message,B=(s[E]||0)+1;s[E]=B,B>=g&&(u=A,g=B)}return u}},30336:function(s,u,g){"use strict";var T=g(20955),A=g(74275),E=g.n(A),B=g(54440),S=g.n(B);function _inheritsLoose(s,u){s.prototype=Object.create(u.prototype),s.prototype.constructor=s,_setPrototypeOf(s,u)}function _setPrototypeOf(s,u){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,u){return s.__proto__=u,s})(s,u)}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(s){for(var u=1;u<arguments.length;u++){var g=arguments[u];for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&(s[T]=g[T])}return s}).apply(this,arguments)}var I="undefined"!=typeof window&&window.navigator.userAgent.toLowerCase(),C=I&&I.indexOf("msie 9.0")>0,Dialog=function(s){var u="rodal-dialog rodal-"+(("enter"===s.animationType?s.enterAnimation:s.leaveAnimation)||s.animation)+"-"+s.animationType,g=s.showCloseButton?T.createElement("span",{className:"rodal-close",onClick:s.onClose,onKeyPress:function(u){s.onClose&&13===u.which&&s.onClose(u)},tabIndex:0}):null,A=s.width,E=s.height,B=s.measure,S=s.duration,I=s.customStyles,C=s.id,O=_extends({},{width:A+B,height:E+B,animationDuration:S+"ms",WebkitAnimationDuration:S+"ms"},I);return T.createElement("div",{style:O,className:u,id:C},s.children,g)},O=function(s){function Rodal(){for(var u,g=arguments.length,T=Array(g),A=0;A<g;A++)T[A]=arguments[A];return(u=s.call.apply(s,[this].concat(T))||this).state={isShow:!1,animationType:"leave"},u.onKeyUp=function(s){u.props.closeOnEsc&&27===s.keyCode&&u.props.onClose(s)},u.animationEnd=function(s){var g=u.state.animationType,T=u.props,A=T.closeOnEsc,E=T.onAnimationEnd;"leave"===g?u.setState({isShow:!1}):A&&u.el.focus(),s.target===u.el&&E&&E()},u}_inheritsLoose(Rodal,s);var u=Rodal.prototype;return u.componentDidMount=function(){this.props.visible&&this.enter()},u.componentDidUpdate=function(s){this.props.visible&&!s.visible&&this.enter(),!this.props.visible&&s.visible&&this.leave()},u.enter=function(){this.setState({isShow:!0,animationType:"enter"})},u.leave=function(){this.setState(C?{isShow:!1}:{animationType:"leave"})},u.render=function(){var s=this,u=this.props,g=u.closeMaskOnClick,A=u.onClose,E=u.customMaskStyles,B=u.showMask,I=u.duration,C=u.className,O=u.children,N=this.state,D=N.isShow,R=N.animationType,L=B?T.createElement("div",{className:"rodal-mask",style:E,onClick:g?A:void 0}):null,U={display:D?"":"none",animationDuration:I+"ms",WebkitAnimationDuration:I+"ms"};return T.createElement("div",{style:U,className:S()("rodal","rodal-fade-"+R,C),onAnimationEnd:this.animationEnd,tabIndex:"-1",ref:function(u){s.el=u},onKeyUp:this.onKeyUp},L,T.createElement(Dialog,_extends({},this.props,{animationType:R}),O))},Rodal}(T.Component);O.propTypes={width:E().number,height:E().number,measure:E().string,visible:E().bool,showMask:E().bool,closeOnEsc:E().bool,closeMaskOnClick:E().bool,showCloseButton:E().bool,animation:E().string,enterAnimation:E().string,leaveAnimation:E().string,duration:E().number,className:E().string,customStyles:E().object,customMaskStyles:E().object,onClose:E().func.isRequired,onAnimationEnd:E().func,id:E().string},O.defaultProps={width:400,height:240,measure:"px",visible:!1,showMask:!0,closeOnEsc:!1,closeMaskOnClick:!0,showCloseButton:!0,animation:"zoom",enterAnimation:"",leaveAnimation:"",duration:300,className:"",customStyles:{},customMaskStyles:{}},u.Z=O},28587:function(s){"use strict";let u=7;function popCountReduce(s,u){return s+popCount(u)}function popCount(s){let u=s;return u-=u>>1&1431655765,((u=(858993459&u)+(u>>2&858993459))+(u>>4)&252645135)*16843009>>24}function sortInternal(s,u){return s[0]-u[0]}function valueOnly(s){return s[1]}s.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(s,u){let g=this._internalPositionFor(s,!1);if(void 0===u)-1!==g&&(this._unsetInternalPos(g),this._unsetBit(s),this._changedLength=!0,this._changedData=!0);else{let T=!1;-1===g?(g=this._data.length,this._setBit(s),this._changedData=!0):T=!0,this._setInternalPos(g,s,u,T),this._changedLength=!0}}unset(s){this.set(s,void 0)}get(s){this._sortData();let u=this._internalPositionFor(s,!0);if(-1!==u)return this._data[u][1]}push(s){return this.set(this.length,s),this.length}get length(){if(this._sortData(),this._changedLength){let s=this._data[this._data.length-1];this._length=s?s[0]+1:0,this._changedLength=!1}return this._length}forEach(s){let u=0;for(;u<this.length;)s(this.get(u),u,this),u++}map(s){let u=0,g=Array(this.length);for(;u<this.length;)g[u]=s(this.get(u),u,this),u++;return g}reduce(s,u){let g=0,T=u;for(;g<this.length;){let u=this.get(g);T=s(T,u,g),g++}return T}find(s){let u=0,g,T;for(;u<this.length&&!g;)g=s(T=this.get(u)),u++;return g?T:void 0}_internalPositionFor(s,g){let T=this._bytePosFor(s,g);if(T>=this._bitArrays.length)return -1;let A=this._bitArrays[T],E=s-T*u,B=(A&1<<E)>0;if(!B)return -1;let S=this._bitArrays.slice(0,T).reduce(popCountReduce,0),I=~(4294967295<<E+1),C=popCount(A&I),O=S+C-1;return O}_bytePosFor(s,g){let T=Math.floor(s/u),A=T+1;for(;!g&&this._bitArrays.length<A;)this._bitArrays.push(0);return T}_setBit(s){let g=this._bytePosFor(s,!1);this._bitArrays[g]|=1<<s-g*u}_unsetBit(s){let g=this._bytePosFor(s,!1);this._bitArrays[g]&=~(1<<s-g*u)}_setInternalPos(s,u,g,T){let A=this._data,E=[u,g];if(T)this._sortData(),A[s]=E;else{if(A.length){if(A[A.length-1][0]>=u)A.push(E);else if(A[0][0]<=u)A.unshift(E);else{let s=Math.round(A.length/2);this._data=A.slice(0,s).concat(E).concat(A.slice(s))}}else this._data.push(E);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(s){this._data.splice(s,1)}_sortData(){this._changedData&&this._data.sort(sortInternal),this._changedData=!1}bitField(){let s;let u=[],g=8,T=0,A=0,E=this._bitArrays.slice();for(;E.length||T;){0===T&&(s=E.shift(),T=7);let B=Math.min(T,g),S=~(255<<B),I=s&S;A|=I<<8-g,s>>>=B,T-=B,(g-=B)&&(T||E.length)||(u.push(A),A=0,g=8)}for(var B=u.length-1;B>0;B--){let s=u[B];if(0===s)u.pop();else break}return u}compactArray(){return this._sortData(),this._data.map(valueOnly)}}},2136:function(s,u){"use strict";function throttledQueue(s,u,g){void 0===g&&(g=!1),g&&(u/=s,s=1);var T,A=[],E=0,B=0,dequeue=function(){var g=E+u,S=Date.now();if(S<g){void 0!==T&&clearTimeout(T),T=setTimeout(dequeue,g-S);return}E=S,B=0;for(var I=0,C=A.splice(0,s);I<C.length;I++){var O=C[I];B++,O()}T=A.length?setTimeout(dequeue,u):void 0};return function(g){return new Promise(function(S,I){var callback=function(){return Promise.resolve().then(g).then(S).catch(I)},C=Date.now();void 0===T&&C-E>u&&(E=C,B=0),B++<s?callback():(A.push(callback),void 0===T&&(T=setTimeout(dequeue,E+u-C)))})}}Object.defineProperty(u,"__esModule",{value:!0}),s.exports=throttledQueue,u.default=throttledQueue},22212:function(s){s.exports=read;var u=128,g=127;function read(s,T){var A,E=0,T=T||0,B=0,S=T,I=s.length;do{if(S>=I||B>49)throw read.bytes=0,RangeError("Could not decode varint");A=s[S++],E+=B<28?(A&g)<<B:(A&g)*Math.pow(2,B),B+=7}while(A>=u);return read.bytes=S-T,E}},4834:function(s){s.exports=encode;var u=128,g=-128,T=2147483648;function encode(s,A,E){if(Number.MAX_SAFE_INTEGER&&s>Number.MAX_SAFE_INTEGER)throw encode.bytes=0,RangeError("Could not encode varint");A=A||[];for(var B=E=E||0;s>=T;)A[E++]=255&s|u,s/=128;for(;s&g;)A[E++]=255&s|u,s>>>=7;return A[E]=0|s,encode.bytes=E-B+1,A}},28965:function(s,u,g){s.exports={encode:g(4834),decode:g(22212),encodingLength:g(30403)}},30403:function(s){var u=128,g=16384,T=2097152,A=268435456,E=34359738368,B=4398046511104,S=562949953421312,I=72057594037927940,C=0x7fffffffffffffff;s.exports=function(s){return s<u?1:s<g?2:s<T?3:s<A?4:s<E?5:s<B?6:s<S?7:s<I?8:s<C?9:10}},4021:function(s,u,g){"use strict";g.d(u,{xk:function(){return Web3Storage}});var T={};g.r(T),g.d(T,{code:function(){return eY},createLink:function(){return createLink},createNode:function(){return createNode},decode:function(){return src_decode},encode:function(){return src_encode},name:function(){return eQ},prepare:function(){return prepare},validate:function(){return validate}});var A={};g.r(A),g.d(A,{abortedError:function(){return abortedError},notFoundError:function(){return notFoundError}});var E={};function getIterator(s){if("function"==typeof s.next)return s;if("function"==typeof s[Symbol.iterator])return s[Symbol.iterator]();if("function"==typeof s[Symbol.asyncIterator])return s[Symbol.asyncIterator]();throw TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function defer(){let s,u;let g=new Promise((g,T)=>{u=g,s=T});return{promise:g,reject:s,resolve:u}}function _transform(s,u,g){let T=getIterator(g),A=[],E=[],B=!1,S=!1,I=0,C=null;function fulfillReadQueue(){for(;E.length>0&&A.length>0;){let{resolve:s}=E.shift(),u=A.shift();s({done:!1,value:u})}for(;E.length>0&&0===I&&B;){let{resolve:s,reject:u}=E.shift();C?(u(C),C=null):s({done:!0,value:void 0})}}async function fillQueue(){if(B){fulfillReadQueue();return}if(!S&&!(I+A.length>=s)){S=!0,I++;try{let{done:s,value:u}=await T.next();s?(B=!0,I--,fulfillReadQueue()):mapAndQueue(u)}catch(s){B=!0,I--,C=s,fulfillReadQueue()}S=!1,fillQueue()}}async function mapAndQueue(s){try{let g=await u(s);A.push(g)}catch(s){B=!0,C=s}I--,fulfillReadQueue(),fillQueue()}async function next(){if(0===A.length){let s=defer();return E.push(s),fillQueue(),s.promise}let s=A.shift();return fillQueue(),{done:!1,value:s}}let O={next,[Symbol.asyncIterator]:()=>O};return O}function transform(s,u,g){return void 0===u?(u,g)=>g?transform(s,u,g):transform(s,u):void 0===g?g=>transform(s,u,g):_transform(s,u,g)}g.r(E),g.d(E,{code:function(){return tD},decode:function(){return dag_cbor_esm_decode},encode:function(){return dag_cbor_esm_encode},name:function(){return tN}}),g(25566),Symbol("TIMEOUT");var B=g(94627),S=g(77966),I=g(4760),C=g(28965),O=g(53581),N=g(21344);let D=["string","number","bigint","symbol"],R=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(s){if(null===s)return"null";if(void 0===s)return"undefined";if(!0===s||!1===s)return"boolean";let u=typeof s;if(D.includes(u))return u;if("function"===u)return"Function";if(Array.isArray(s))return"Array";if(isBuffer(s))return"Buffer";let g=getObjectType(s);return g||"Object"}function isBuffer(s){return s&&s.constructor&&s.constructor.isBuffer&&s.constructor.isBuffer.call(null,s)}function getObjectType(s){let u=Object.prototype.toString.call(s).slice(8,-1);if(R.includes(u))return u}let Type=class Type{constructor(s,u,g){this.major=s,this.majorEncoded=s<<5,this.name=u,this.terminal=g}toString(){return`Type[${this.major}].${this.name}`}compare(s){return this.major<s.major?-1:this.major>s.major?1:0}};Type.uint=new Type(0,"uint",!0),Type.negint=new Type(1,"negint",!0),Type.bytes=new Type(2,"bytes",!0),Type.string=new Type(3,"string",!0),Type.array=new Type(4,"array",!1),Type.map=new Type(5,"map",!1),Type.tag=new Type(6,"tag",!1),Type.float=new Type(7,"float",!0),Type.false=new Type(7,"false",!0),Type.true=new Type(7,"true",!0),Type.null=new Type(7,"null",!0),Type.undefined=new Type(7,"undefined",!0),Type.break=new Type(7,"break",!0);let Token=class Token{constructor(s,u,g){this.type=s,this.value=u,this.encodedLength=g,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};let L=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,U=new TextDecoder,P=new TextEncoder;function byte_utils_isBuffer(s){return L&&globalThis.Buffer.isBuffer(s)}function asU8A(s){return s instanceof Uint8Array?byte_utils_isBuffer(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):s:Uint8Array.from(s)}let M=L?(s,u,g)=>g-u>64?globalThis.Buffer.from(s.subarray(u,g)).toString("utf8"):utf8Slice(s,u,g):(s,u,g)=>g-u>64?U.decode(s.subarray(u,g)):utf8Slice(s,u,g),z=L?s=>s.length>64?globalThis.Buffer.from(s):utf8ToBytes(s):s=>s.length>64?P.encode(s):utf8ToBytes(s),fromArray=s=>Uint8Array.from(s),F=L?(s,u,g)=>byte_utils_isBuffer(s)?new Uint8Array(s.subarray(u,g)):s.slice(u,g):(s,u,g)=>s.slice(u,g),$=L?(s,u)=>(s=s.map(s=>s instanceof Uint8Array?s:globalThis.Buffer.from(s)),asU8A(globalThis.Buffer.concat(s,u))):(s,u)=>{let g=new Uint8Array(u),T=0;for(let u of s)T+u.length>g.length&&(u=u.subarray(0,g.length-T)),g.set(u,T),T+=u.length;return g},V=L?s=>globalThis.Buffer.allocUnsafe(s):s=>new Uint8Array(s);function compare(s,u){if(byte_utils_isBuffer(s)&&byte_utils_isBuffer(u))return s.compare(u);for(let g=0;g<s.length;g++)if(s[g]!==u[g])return s[g]<u[g]?-1:1;return 0}function utf8ToBytes(s,u=1/0){let g;let T=s.length,A=null,E=[];for(let B=0;B<T;++B){if((g=s.charCodeAt(B))>55295&&g<57344){if(!A){if(g>56319||B+1===T){(u-=3)>-1&&E.push(239,191,189);continue}A=g;continue}if(g<56320){(u-=3)>-1&&E.push(239,191,189),A=g;continue}g=(A-55296<<10|g-56320)+65536}else A&&(u-=3)>-1&&E.push(239,191,189);if(A=null,g<128){if((u-=1)<0)break;E.push(g)}else if(g<2048){if((u-=2)<0)break;E.push(g>>6|192,63&g|128)}else if(g<65536){if((u-=3)<0)break;E.push(g>>12|224,g>>6&63|128,63&g|128)}else if(g<1114112){if((u-=4)<0)break;E.push(g>>18|240,g>>12&63|128,g>>6&63|128,63&g|128)}else throw Error("Invalid code point")}return E}function utf8Slice(s,u,g){let T=[];for(;u<g;){let A=s[u],E=null,B=A>239?4:A>223?3:A>191?2:1;if(u+B<=g){let g,T,S,I;switch(B){case 1:A<128&&(E=A);break;case 2:(192&(g=s[u+1]))==128&&(I=(31&A)<<6|63&g)>127&&(E=I);break;case 3:g=s[u+1],T=s[u+2],(192&g)==128&&(192&T)==128&&(I=(15&A)<<12|(63&g)<<6|63&T)>2047&&(I<55296||I>57343)&&(E=I);break;case 4:g=s[u+1],T=s[u+2],S=s[u+3],(192&g)==128&&(192&T)==128&&(192&S)==128&&(I=(15&A)<<18|(63&g)<<12|(63&T)<<6|63&S)>65535&&I<1114112&&(E=I)}}null===E?(E=65533,B=1):E>65535&&(E-=65536,T.push(E>>>10&1023|55296),E=56320|1023&E),T.push(E),u+=B}return decodeCodePointsArray(T)}let W=4096;function decodeCodePointsArray(s){let u=s.length;if(u<=W)return String.fromCharCode.apply(String,s);let g="",T=0;for(;T<u;)g+=String.fromCharCode.apply(String,s.slice(T,T+=W));return g}let H=256;let Bl=class Bl{constructor(s=H){this.chunkSize=s,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(s){let u=this.chunks[this.chunks.length-1],g=this.cursor+s.length;if(g<=this.maxCursor+1){let g=u.length-(this.maxCursor-this.cursor)-1;u.set(s,g)}else{if(u){let s=u.length-(this.maxCursor-this.cursor)-1;s<u.length&&(this.chunks[this.chunks.length-1]=u.subarray(0,s),this.maxCursor=this.cursor-1)}s.length<64&&s.length<this.chunkSize?(u=V(this.chunkSize),this.chunks.push(u),this.maxCursor+=u.length,null===this._initReuseChunk&&(this._initReuseChunk=u),u.set(s,0)):(this.chunks.push(s),this.maxCursor+=s.length)}this.cursor+=s.length}toBytes(s=!1){let u;if(1===this.chunks.length){let g=this.chunks[0];s&&this.cursor>g.length/2?(u=this.cursor===g.length?g:g.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):u=F(g,0,this.cursor)}else u=$(this.chunks,this.cursor);return s&&this.reset(),u}};let G="CBOR decode error:",X="CBOR encode error:",K=[];function assertEnoughData(s,u,g){if(s.length-u<g)throw Error(`${G} not enough data for type`)}K[23]=1,K[24]=2,K[25]=3,K[26]=5,K[27]=9;let J=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(s,u,g){assertEnoughData(s,u,1);let T=s[u];if(!0===g.strict&&T<J[0])throw Error(`${G} integer encoded in more bytes than necessary (strict decode)`);return T}function readUint16(s,u,g){assertEnoughData(s,u,2);let T=s[u]<<8|s[u+1];if(!0===g.strict&&T<J[1])throw Error(`${G} integer encoded in more bytes than necessary (strict decode)`);return T}function readUint32(s,u,g){assertEnoughData(s,u,4);let T=16777216*s[u]+(s[u+1]<<16)+(s[u+2]<<8)+s[u+3];if(!0===g.strict&&T<J[2])throw Error(`${G} integer encoded in more bytes than necessary (strict decode)`);return T}function readUint64(s,u,g){assertEnoughData(s,u,8);let T=16777216*s[u]+(s[u+1]<<16)+(s[u+2]<<8)+s[u+3],A=16777216*s[u+4]+(s[u+5]<<16)+(s[u+6]<<8)+s[u+7],E=(BigInt(T)<<BigInt(32))+BigInt(A);if(!0===g.strict&&E<J[3])throw Error(`${G} integer encoded in more bytes than necessary (strict decode)`);if(E<=Number.MAX_SAFE_INTEGER)return Number(E);if(!0===g.allowBigInt)return E;throw Error(`${G} integers outside of the safe integer range are not supported`)}function decodeUint8(s,u,g,T){return new Token(Type.uint,readUint8(s,u+1,T),2)}function decodeUint16(s,u,g,T){return new Token(Type.uint,readUint16(s,u+1,T),3)}function decodeUint32(s,u,g,T){return new Token(Type.uint,readUint32(s,u+1,T),5)}function decodeUint64(s,u,g,T){return new Token(Type.uint,readUint64(s,u+1,T),9)}function encodeUint(s,u){return encodeUintValue(s,0,u.value)}function encodeUintValue(s,u,g){if(g<J[0]){let T=Number(g);s.push([u|T])}else if(g<J[1]){let T=Number(g);s.push([24|u,T])}else if(g<J[2]){let T=Number(g);s.push([25|u,T>>>8,255&T])}else if(g<J[3]){let T=Number(g);s.push([26|u,T>>>24&255,T>>>16&255,T>>>8&255,255&T])}else{let T=BigInt(g);if(T<J[4]){let g=[27|u,0,0,0,0,0,0,0],A=Number(T&BigInt(4294967295)),E=Number(T>>BigInt(32)&BigInt(4294967295));g[8]=255&A,A>>=8,g[7]=255&A,A>>=8,g[6]=255&A,A>>=8,g[5]=255&A,g[4]=255&E,E>>=8,g[3]=255&E,E>>=8,g[2]=255&E,E>>=8,g[1]=255&E,s.push(g)}else throw Error(`${G} encountered BigInt larger than allowable range`)}}function decodeNegint8(s,u,g,T){return new Token(Type.negint,-1-readUint8(s,u+1,T),2)}function decodeNegint16(s,u,g,T){return new Token(Type.negint,-1-readUint16(s,u+1,T),3)}function decodeNegint32(s,u,g,T){return new Token(Type.negint,-1-readUint32(s,u+1,T),5)}encodeUint.encodedSize=function(s){return encodeUintValue.encodedSize(s.value)},encodeUintValue.encodedSize=function(s){return s<J[0]?1:s<J[1]?2:s<J[2]?3:s<J[3]?5:9},encodeUint.compareTokens=function(s,u){return s.value<u.value?-1:s.value>u.value?1:0};let Q=BigInt(-1),Y=BigInt(1);function decodeNegint64(s,u,g,T){let A=readUint64(s,u+1,T);if("bigint"!=typeof A){let s=-1-A;if(s>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,s,9)}if(!0!==T.allowBigInt)throw Error(`${G} integers outside of the safe integer range are not supported`);return new Token(Type.negint,Q-BigInt(A),9)}function encodeNegint(s,u){let g=u.value,T="bigint"==typeof g?g*Q-Y:-1*g-1;encodeUintValue(s,u.type.majorEncoded,T)}function toToken(s,u,g,T){assertEnoughData(s,u,g+T);let A=F(s,u+g,u+g+T);return new Token(Type.bytes,A,g+T)}function decodeBytesCompact(s,u,g,T){return toToken(s,u,1,g)}function decodeBytes8(s,u,g,T){return toToken(s,u,2,readUint8(s,u+1,T))}function decodeBytes16(s,u,g,T){return toToken(s,u,3,readUint16(s,u+1,T))}function decodeBytes32(s,u,g,T){return toToken(s,u,5,readUint32(s,u+1,T))}function decodeBytes64(s,u,g,T){let A=readUint64(s,u+1,T);if("bigint"==typeof A)throw Error(`${G} 64-bit integer bytes lengths not supported`);return toToken(s,u,9,A)}function tokenBytes(s){return void 0===s.encodedBytes&&(s.encodedBytes=s.type===Type.string?z(s.value):s.value),s.encodedBytes}function encodeBytes(s,u){let g=tokenBytes(u);encodeUintValue(s,u.type.majorEncoded,g.length),s.push(g)}function compareBytes(s,u){return s.length<u.length?-1:s.length>u.length?1:compare(s,u)}function _3string_toToken(s,u,g,T,A){let E=g+T;assertEnoughData(s,u,E);let B=new Token(Type.string,M(s,u+g,u+E),E);return!0===A.retainStringBytes&&(B.byteValue=F(s,u+g,u+E)),B}function decodeStringCompact(s,u,g,T){return _3string_toToken(s,u,1,g,T)}function decodeString8(s,u,g,T){return _3string_toToken(s,u,2,readUint8(s,u+1,T),T)}function decodeString16(s,u,g,T){return _3string_toToken(s,u,3,readUint16(s,u+1,T),T)}function decodeString32(s,u,g,T){return _3string_toToken(s,u,5,readUint32(s,u+1,T),T)}function decodeString64(s,u,g,T){let A=readUint64(s,u+1,T);if("bigint"==typeof A)throw Error(`${G} 64-bit integer string lengths not supported`);return _3string_toToken(s,u,9,A,T)}encodeNegint.encodedSize=function(s){let u=s.value,g="bigint"==typeof u?u*Q-Y:-1*u-1;return g<J[0]?1:g<J[1]?2:g<J[2]?3:g<J[3]?5:9},encodeNegint.compareTokens=function(s,u){return s.value<u.value?1:s.value>u.value?-1:0},encodeBytes.encodedSize=function(s){let u=tokenBytes(s);return encodeUintValue.encodedSize(u.length)+u.length},encodeBytes.compareTokens=function(s,u){return compareBytes(tokenBytes(s),tokenBytes(u))};let Z=encodeBytes;function _4array_toToken(s,u,g,T){return new Token(Type.array,T,g)}function decodeArrayCompact(s,u,g,T){return _4array_toToken(s,u,1,g)}function decodeArray8(s,u,g,T){return _4array_toToken(s,u,2,readUint8(s,u+1,T))}function decodeArray16(s,u,g,T){return _4array_toToken(s,u,3,readUint16(s,u+1,T))}function decodeArray32(s,u,g,T){return _4array_toToken(s,u,5,readUint32(s,u+1,T))}function decodeArray64(s,u,g,T){let A=readUint64(s,u+1,T);if("bigint"==typeof A)throw Error(`${G} 64-bit integer array lengths not supported`);return _4array_toToken(s,u,9,A)}function decodeArrayIndefinite(s,u,g,T){if(!1===T.allowIndefinite)throw Error(`${G} indefinite length items not allowed`);return _4array_toToken(s,u,1,1/0)}function encodeArray(s,u){encodeUintValue(s,Type.array.majorEncoded,u.value)}function _5map_toToken(s,u,g,T){return new Token(Type.map,T,g)}function decodeMapCompact(s,u,g,T){return _5map_toToken(s,u,1,g)}function decodeMap8(s,u,g,T){return _5map_toToken(s,u,2,readUint8(s,u+1,T))}function decodeMap16(s,u,g,T){return _5map_toToken(s,u,3,readUint16(s,u+1,T))}function decodeMap32(s,u,g,T){return _5map_toToken(s,u,5,readUint32(s,u+1,T))}function decodeMap64(s,u,g,T){let A=readUint64(s,u+1,T);if("bigint"==typeof A)throw Error(`${G} 64-bit integer map lengths not supported`);return _5map_toToken(s,u,9,A)}function decodeMapIndefinite(s,u,g,T){if(!1===T.allowIndefinite)throw Error(`${G} indefinite length items not allowed`);return _5map_toToken(s,u,1,1/0)}function encodeMap(s,u){encodeUintValue(s,Type.map.majorEncoded,u.value)}function decodeTagCompact(s,u,g,T){return new Token(Type.tag,g,1)}function decodeTag8(s,u,g,T){return new Token(Type.tag,readUint8(s,u+1,T),2)}function decodeTag16(s,u,g,T){return new Token(Type.tag,readUint16(s,u+1,T),3)}function decodeTag32(s,u,g,T){return new Token(Type.tag,readUint32(s,u+1,T),5)}function decodeTag64(s,u,g,T){return new Token(Type.tag,readUint64(s,u+1,T),9)}function encodeTag(s,u){encodeUintValue(s,Type.tag.majorEncoded,u.value)}encodeArray.compareTokens=encodeUint.compareTokens,encodeArray.encodedSize=function(s){return encodeUintValue.encodedSize(s.value)},encodeMap.compareTokens=encodeUint.compareTokens,encodeMap.encodedSize=function(s){return encodeUintValue.encodedSize(s.value)},encodeTag.compareTokens=encodeUint.compareTokens,encodeTag.encodedSize=function(s){return encodeUintValue.encodedSize(s.value)};let ee=20,et=21,er=22,en=23;function decodeUndefined(s,u,g,T){if(!1===T.allowUndefined)throw Error(`${G} undefined values are not supported`);return!0===T.coerceUndefinedToNull?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(s,u,g,T){if(!1===T.allowIndefinite)throw Error(`${G} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(s,u,g){if(g){if(!1===g.allowNaN&&Number.isNaN(s))throw Error(`${G} NaN values are not supported`);if(!1===g.allowInfinity&&(s===1/0||s===-1/0))throw Error(`${G} Infinity values are not supported`)}return new Token(Type.float,s,u)}function decodeFloat16(s,u,g,T){return createToken(readFloat16(s,u+1),3,T)}function decodeFloat32(s,u,g,T){return createToken(readFloat32(s,u+1),5,T)}function decodeFloat64(s,u,g,T){return createToken(readFloat64(s,u+1),9,T)}function encodeFloat(s,u,g){let T=u.value;if(!1===T)s.push([Type.float.majorEncoded|ee]);else if(!0===T)s.push([Type.float.majorEncoded|et]);else if(null===T)s.push([Type.float.majorEncoded|er]);else if(void 0===T)s.push([Type.float.majorEncoded|en]);else{let u;let A=!1;g&&!0===g.float64||(encodeFloat16(T),T===(u=readFloat16(ea,1))||Number.isNaN(T)?(ea[0]=249,s.push(ea.slice(0,3)),A=!0):(encodeFloat32(T),T!==(u=readFloat32(ea,1))||(ea[0]=250,s.push(ea.slice(0,5)),A=!0))),A||(encodeFloat64(T),u=readFloat64(ea,1),ea[0]=251,s.push(ea.slice(0,9)))}}encodeFloat.encodedSize=function(s,u){let g=s.value;if(!1===g||!0===g||null==g)return 1;if(!u||!0!==u.float64){encodeFloat16(g);let s=readFloat16(ea,1);if(g===s||Number.isNaN(g))return 3;if(encodeFloat32(g),g===(s=readFloat32(ea,1)))return 5}return 9};let ei=new ArrayBuffer(9),eo=new DataView(ei,1),ea=new Uint8Array(ei,0);function encodeFloat16(s){if(s===1/0)eo.setUint16(0,31744,!1);else if(s===-1/0)eo.setUint16(0,64512,!1);else if(Number.isNaN(s))eo.setUint16(0,32256,!1);else{eo.setFloat32(0,s);let u=eo.getUint32(0),g=(2139095040&u)>>23,T=8388607&u;if(255===g)eo.setUint16(0,31744,!1);else if(0===g)eo.setUint16(0,(2147483648&s)>>16|T>>13,!1);else{let s=g-127;s<-24?eo.setUint16(0,0):s<-14?eo.setUint16(0,(2147483648&u)>>16|1<<24+s,!1):eo.setUint16(0,(2147483648&u)>>16|s+15<<10|T>>13,!1)}}}function readFloat16(s,u){let g;if(s.length-u<2)throw Error(`${G} not enough data for float16`);let T=(s[u]<<8)+s[u+1];if(31744===T)return 1/0;if(64512===T)return-1/0;if(32256===T)return NaN;let A=T>>10&31,E=1023&T;return g=0===A?5960464477539063e-23*E:31!==A?(E+1024)*2**(A-25):0===E?1/0:NaN,32768&T?-g:g}function encodeFloat32(s){eo.setFloat32(0,s,!1)}function readFloat32(s,u){if(s.length-u<4)throw Error(`${G} not enough data for float32`);let g=(s.byteOffset||0)+u;return new DataView(s.buffer,g,4).getFloat32(0,!1)}function encodeFloat64(s){eo.setFloat64(0,s,!1)}function readFloat64(s,u){if(s.length-u<8)throw Error(`${G} not enough data for float64`);let g=(s.byteOffset||0)+u;return new DataView(s.buffer,g,8).getFloat64(0,!1)}function invalidMinor(s,u,g){throw Error(`${G} encountered invalid minor (${g}) for major ${s[u]>>>5}`)}function errorer(s){return()=>{throw Error(`${G} ${s}`)}}encodeFloat.compareTokens=encodeUint.compareTokens;let es=[];for(let s=0;s<=23;s++)es[s]=invalidMinor;es[24]=decodeUint8,es[25]=decodeUint16,es[26]=decodeUint32,es[27]=decodeUint64,es[28]=invalidMinor,es[29]=invalidMinor,es[30]=invalidMinor,es[31]=invalidMinor;for(let s=32;s<=55;s++)es[s]=invalidMinor;es[56]=decodeNegint8,es[57]=decodeNegint16,es[58]=decodeNegint32,es[59]=decodeNegint64,es[60]=invalidMinor,es[61]=invalidMinor,es[62]=invalidMinor,es[63]=invalidMinor;for(let s=64;s<=87;s++)es[s]=decodeBytesCompact;es[88]=decodeBytes8,es[89]=decodeBytes16,es[90]=decodeBytes32,es[91]=decodeBytes64,es[92]=invalidMinor,es[93]=invalidMinor,es[94]=invalidMinor,es[95]=errorer("indefinite length bytes/strings are not supported");for(let s=96;s<=119;s++)es[s]=decodeStringCompact;es[120]=decodeString8,es[121]=decodeString16,es[122]=decodeString32,es[123]=decodeString64,es[124]=invalidMinor,es[125]=invalidMinor,es[126]=invalidMinor,es[127]=errorer("indefinite length bytes/strings are not supported");for(let s=128;s<=151;s++)es[s]=decodeArrayCompact;es[152]=decodeArray8,es[153]=decodeArray16,es[154]=decodeArray32,es[155]=decodeArray64,es[156]=invalidMinor,es[157]=invalidMinor,es[158]=invalidMinor,es[159]=decodeArrayIndefinite;for(let s=160;s<=183;s++)es[s]=decodeMapCompact;es[184]=decodeMap8,es[185]=decodeMap16,es[186]=decodeMap32,es[187]=decodeMap64,es[188]=invalidMinor,es[189]=invalidMinor,es[190]=invalidMinor,es[191]=decodeMapIndefinite;for(let s=192;s<=215;s++)es[s]=decodeTagCompact;es[216]=decodeTag8,es[217]=decodeTag16,es[218]=decodeTag32,es[219]=decodeTag64,es[220]=invalidMinor,es[221]=invalidMinor,es[222]=invalidMinor,es[223]=invalidMinor;for(let s=224;s<=243;s++)es[s]=errorer("simple values are not supported");es[244]=invalidMinor,es[245]=invalidMinor,es[246]=invalidMinor,es[247]=decodeUndefined,es[248]=errorer("simple values are not supported"),es[249]=decodeFloat16,es[250]=decodeFloat32,es[251]=decodeFloat64,es[252]=invalidMinor,es[253]=invalidMinor,es[254]=invalidMinor,es[255]=decodeBreak;let eu=[];for(let s=0;s<24;s++)eu[s]=new Token(Type.uint,s,1);for(let s=-1;s>=-24;s--)eu[31-s]=new Token(Type.negint,s,1);function quickEncodeToken(s){switch(s.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:if(!s.value.length)return fromArray([64]);return;case Type.string:if(""===s.value)return fromArray([96]);return;case Type.array:if(0===s.value)return fromArray([128]);return;case Type.map:if(0===s.value)return fromArray([160]);return;case Type.uint:if(s.value<24)return fromArray([Number(s.value)]);return;case Type.negint:if(s.value>=-24)return fromArray([31-Number(s.value)])}}eu[64]=new Token(Type.bytes,new Uint8Array(0),1),eu[96]=new Token(Type.string,"",1),eu[128]=new Token(Type.array,0,1),eu[160]=new Token(Type.map,0,1),eu[244]=new Token(Type.false,!1,1),eu[245]=new Token(Type.true,!0,1),eu[246]=new Token(Type.null,null,1);let ec={float64:!1,mapSorter,quickEncodeToken:quickEncodeToken};function makeCborEncoders(){let s=[];return s[Type.uint.major]=encodeUint,s[Type.negint.major]=encodeNegint,s[Type.bytes.major]=encodeBytes,s[Type.string.major]=Z,s[Type.array.major]=encodeArray,s[Type.map.major]=encodeMap,s[Type.tag.major]=encodeTag,s[Type.float.major]=encodeFloat,s}let ef=makeCborEncoders(),eh=new Bl;let Ref=class Ref{constructor(s,u){this.obj=s,this.parent=u}includes(s){let u=this;do if(u.obj===s)return!0;while(u=u.parent);return!1}static createCheck(s,u){if(s&&s.includes(u))throw Error(`${X} object contains circular references`);return new Ref(u,s)}};let ed={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},ep={number:(s,u,g,T)=>Number.isInteger(s)&&Number.isSafeInteger(s)?s>=0?new Token(Type.uint,s):new Token(Type.negint,s):new Token(Type.float,s),bigint:(s,u,g,T)=>s>=BigInt(0)?new Token(Type.uint,s):new Token(Type.negint,s),Uint8Array:(s,u,g,T)=>new Token(Type.bytes,s),string:(s,u,g,T)=>new Token(Type.string,s),boolean:(s,u,g,T)=>s?ed.true:ed.false,null:(s,u,g,T)=>ed.null,undefined:(s,u,g,T)=>ed.undefined,ArrayBuffer:(s,u,g,T)=>new Token(Type.bytes,new Uint8Array(s)),DataView:(s,u,g,T)=>new Token(Type.bytes,new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),Array(s,u,g,T){if(!s.length)return!0===g.addBreakTokens?[ed.emptyArray,new Token(Type.break)]:ed.emptyArray;T=Ref.createCheck(T,s);let A=[],E=0;for(let u of s)A[E++]=objectToTokens(u,g,T);return g.addBreakTokens?[new Token(Type.array,s.length),A,new Token(Type.break)]:[new Token(Type.array,s.length),A]},Object(s,u,g,T){let A="Object"!==u,E=A?s.keys():Object.keys(s),B=A?s.size:E.length;if(!B)return!0===g.addBreakTokens?[ed.emptyMap,new Token(Type.break)]:ed.emptyMap;T=Ref.createCheck(T,s);let S=[],I=0;for(let u of E)S[I++]=[objectToTokens(u,g,T),objectToTokens(A?s.get(u):s[u],g,T)];return(sortMapEntries(S,g),g.addBreakTokens)?[new Token(Type.map,B),S,new Token(Type.break)]:[new Token(Type.map,B),S]}};for(let s of(ep.Map=ep.Object,ep.Buffer=ep.Uint8Array,"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" ")))ep[`${s}Array`]=ep.DataView;function objectToTokens(s,u={},g){let T=is(s),A=u&&u.typeEncoders&&u.typeEncoders[T]||ep[T];if("function"==typeof A){let E=A(s,T,u,g);if(null!=E)return E}let E=ep[T];if(!E)throw Error(`${X} unsupported type: ${T}`);return E(s,T,u,g)}function sortMapEntries(s,u){u.mapSorter&&s.sort(u.mapSorter)}function mapSorter(s,u){let g=Array.isArray(s[0])?s[0][0]:s[0],T=Array.isArray(u[0])?u[0][0]:u[0];if(g.type!==T.type)return g.type.compare(T.type);let A=g.type.major,E=ef[A].compareTokens(g,T);return 0===E&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),E}function tokensToEncoded(s,u,g,T){if(Array.isArray(u))for(let A of u)tokensToEncoded(s,A,g,T);else g[u.type.major](s,u,T)}function encodeCustom(s,u,g){let T=objectToTokens(s,g);if(!Array.isArray(T)&&g.quickEncodeToken){let s=g.quickEncodeToken(T);if(s)return s;let A=u[T.type.major];if(A.encodedSize){let s=A.encodedSize(T,g),u=new Bl(s);if(A(u,T,g),1!==u.chunks.length)throw Error(`Unexpected error: pre-calculated length for ${T} was wrong`);return asU8A(u.chunks[0])}}return eh.reset(),tokensToEncoded(eh,T,u,g),eh.toBytes(!0)}function encode(s,u){return encodeCustom(s,ef,u=Object.assign({},ec,u))}let ey={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};let Tokeniser=class Tokeniser{constructor(s,u={}){this.pos=0,this.data=s,this.options=u}done(){return this.pos>=this.data.length}next(){let s=this.data[this.pos],u=eu[s];if(void 0===u){let g=es[s];if(!g)throw Error(`${G} no decoder for major type ${s>>>5} (byte 0x${s.toString(16).padStart(2,"0")})`);let T=31&s;u=g(this.data,this.pos,T,this.options)}return this.pos+=u.encodedLength,u}};let eg=Symbol.for("DONE"),em=Symbol.for("BREAK");function tokenToArray(s,u,g){let T=[];for(let A=0;A<s.value;A++){let E=tokensToObject(u,g);if(E===em){if(s.value===1/0)break;throw Error(`${G} got unexpected break to lengthed array`)}if(E===eg)throw Error(`${G} found array but not enough entries (got ${A}, expected ${s.value})`);T[A]=E}return T}function tokenToMap(s,u,g){let T=!0===g.useMaps,A=T?void 0:{},E=T?new Map:void 0;for(let B=0;B<s.value;B++){let S=tokensToObject(u,g);if(S===em){if(s.value===1/0)break;throw Error(`${G} got unexpected break to lengthed map`)}if(S===eg)throw Error(`${G} found map but not enough entries (got ${B} [no key], expected ${s.value})`);if(!0!==T&&"string"!=typeof S)throw Error(`${G} non-string keys not supported (got ${typeof S})`);if(!0===g.rejectDuplicateMapKeys&&(T&&E.has(S)||!T&&S in A))throw Error(`${G} found repeat map key "${S}"`);let I=tokensToObject(u,g);if(I===eg)throw Error(`${G} found map but not enough entries (got ${B} [no value], expected ${s.value})`);T?E.set(S,I):A[S]=I}return T?E:A}function tokensToObject(s,u){if(s.done())return eg;let g=s.next();if(g.type===Type.break)return em;if(g.type.terminal)return g.value;if(g.type===Type.array)return tokenToArray(g,s,u);if(g.type===Type.map)return tokenToMap(g,s,u);if(g.type===Type.tag){if(u.tags&&"function"==typeof u.tags[g.value]){let T=tokensToObject(s,u);return u.tags[g.value](T)}throw Error(`${G} tag not supported (${g.value})`)}throw Error("unsupported")}function decode(s,u){if(!(s instanceof Uint8Array))throw Error(`${G} data to decode must be a Uint8Array`);u=Object.assign({},ey,u);let g=u.tokenizer||new Tokeniser(s,u),T=tokensToObject(g,u);if(T===eg)throw Error(`${G} did not find any content to decode`);if(T===em)throw Error(`${G} got unexpected break`);if(!g.done())throw Error(`${G} too many terminals, data makes no sense`);return T}let eb=42;function cidEncoder(s){if(s.asCID!==s)return null;let u=O.k.asCID(s);if(!u)return null;let g=new Uint8Array(u.bytes.byteLength+1);return g.set(u.bytes,1),[new Token(Type.tag,eb),new Token(Type.bytes,g)]}function undefinedEncoder(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(s){if(Number.isNaN(s))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(s===1/0||s===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}let e_={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder(s){if(0!==s[0])throw Error("Invalid CID for CBOR tag 42; expected leading 0x00");return O.k.decode(s.subarray(1))}let ew={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};ew.tags[eb]=cidDecoder;let ek=113,esm_encode=s=>encode(s,e_),esm_decode=s=>decode(s,ew),eT={SHA2_256:18,LENGTH:32,DAG_PB:112};async function readVarint(s){let u=await s.upTo(8),g=C.decode(u);return s.seek(C.decode.bytes),g}async function readHeader(s){let u=await readVarint(s);if(0===u)throw Error("Invalid CAR header (zero length)");let g=await s.exactly(u);s.seek(u);let T=esm_decode(g);if(null==T||Array.isArray(T)||"object"!=typeof T)throw Error("Invalid CAR header format");if(1!==T.version){if("string"==typeof T.version)throw Error(`Invalid CAR version: "${T.version}"`);throw Error(`Invalid CAR version: ${T.version}`)}if(!Array.isArray(T.roots)||Object.keys(T).filter(s=>"roots"!==s&&"version"!==s).length)throw Error("Invalid CAR header format");return T}async function readMultihash(s){let u=await s.upTo(8);C.decode(u);let g=C.decode.bytes,T=C.decode(u.subarray(C.decode.bytes)),A=C.decode.bytes,E=g+A+T,B=await s.exactly(E);return s.seek(E),B}async function readCid(s){let u=await s.exactly(2);if(u[0]===eT.SHA2_256&&u[1]===eT.LENGTH){let u=await s.exactly(34);s.seek(34);let g=N.Jx(u);return O.k.create(0,eT.DAG_PB,g)}let g=await readVarint(s);if(1!==g)throw Error(`Unexpected CID version (${g})`);let T=await readVarint(s),A=await readMultihash(s),E=N.Jx(A);return O.k.create(g,T,E)}async function readBlockHead(s){let u=s.pos,g=await readVarint(s);if(0===g)throw Error("Invalid CAR section (zero length)");g+=s.pos-u;let T=await readCid(s),A=g-(s.pos-u);return{cid:T,length:g,blockLength:A}}async function readBlock(s){let{cid:u,blockLength:g}=await readBlockHead(s),T=await s.exactly(g);return s.seek(g),{bytes:T,cid:u}}async function readBlockIndex(s){let u=s.pos,{cid:g,length:T,blockLength:A}=await readBlockHead(s),E={cid:g,length:T,blockLength:A,offset:u,blockOffset:s.pos};return s.seek(E.blockLength),E}function createDecoder(s){let u=readHeader(s);return{header:()=>u,async *blocks(){for(await u;(await s.upTo(8)).length>0;)yield await readBlock(s)},async *blocksIndex(){for(await u;(await s.upTo(8)).length>0;)yield await readBlockIndex(s)}}}function bytesReader(s){let u=0;return{upTo:async g=>s.subarray(u,u+Math.min(g,s.length-u)),async exactly(g){if(g>s.length-u)throw Error("Unexpected end of data");return s.subarray(u,u+g)},seek(s){u+=s},get pos(){return u}}}function chunkReader(s){let u=0,g=0,T=0,A=new Uint8Array(0),read=async u=>{g=A.length-T;let E=[A.subarray(T)];for(;g<u;){let u=await s();if(null==u)break;g<0?u.length>g&&E.push(u.subarray(-g)):E.push(u),g+=u.length}A=new Uint8Array(E.reduce((s,u)=>s+u.length,0));let B=0;for(let s of E)A.set(s,B),B+=s.length;T=0};return{upTo:async s=>(A.length-T<s&&await read(s),A.subarray(T,T+Math.min(A.length-T,s))),async exactly(s){if(A.length-T<s&&await read(s),A.length-T<s)throw Error("Unexpected end of data");return A.subarray(T,T+s)},seek(s){u+=s,T+=s},get pos(){return u}}}function asyncIterableReader(s){let u=s[Symbol.asyncIterator]();return chunkReader(async function(){let s=await u.next();return s.done?null:s.value})}let CarReader=class CarReader{constructor(s,u,g){this._version=s,this._roots=u,this._blocks=g,this._keys=g.map(s=>s.cid.toString())}get version(){return this._version}async getRoots(){return this._roots}async has(s){return this._keys.indexOf(s.toString())>-1}async get(s){let u=this._keys.indexOf(s.toString());return u>-1?this._blocks[u]:void 0}async *blocks(){for(let s of this._blocks)yield s}async *cids(){for(let s of this._blocks)yield s.cid}static async fromBytes(s){if(!(s instanceof Uint8Array))throw TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(s))}static async fromIterable(s){if(!s||"function"!=typeof s[Symbol.asyncIterator])throw TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(s))}};async function decodeReaderComplete(s){let u=createDecoder(s),{version:g,roots:T}=await u.header(),A=[];for await(let s of u.blocks())A.push(s);return new CarReader(g,T,A)}let CarIteratorBase=class CarIteratorBase{constructor(s,u,g){this._version=s,this._roots=u,this._iterable=g,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}};let CarBlockIterator=class CarBlockIterator extends CarIteratorBase{[Symbol.asyncIterator](){if(this._decoded)throw Error("Cannot decode more than once");if(!this._iterable)throw Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(s){let{version:u,roots:g,iterator:T}=await fromBytes(s);return new CarBlockIterator(u,g,T)}static async fromIterable(s){let{version:u,roots:g,iterator:T}=await fromIterable(s);return new CarBlockIterator(u,g,T)}};let CarCIDIterator=class CarCIDIterator extends CarIteratorBase{[Symbol.asyncIterator](){if(this._decoded)throw Error("Cannot decode more than once");if(!this._iterable)throw Error("Block iterable not found");this._decoded=!0;let s=this._iterable[Symbol.asyncIterator]();return{async next(){let u=await s.next();return u.done?u:{done:!1,value:u.value.cid}}}}static async fromBytes(s){let{version:u,roots:g,iterator:T}=await fromBytes(s);return new CarCIDIterator(u,g,T)}static async fromIterable(s){let{version:u,roots:g,iterator:T}=await fromIterable(s);return new CarCIDIterator(u,g,T)}};async function fromBytes(s){if(!(s instanceof Uint8Array))throw TypeError("fromBytes() requires a Uint8Array");return decodeIterator(bytesReader(s))}async function fromIterable(s){if(!s||"function"!=typeof s[Symbol.asyncIterator])throw TypeError("fromIterable() requires an async iterable");return decodeIterator(asyncIterableReader(s))}async function decodeIterator(s){let u=createDecoder(s),{version:g,roots:T}=await u.header();return{version:g,roots:T,iterator:u.blocks()}}function createHeader(s){let u=esm_encode({version:1,roots:s}),g=C.encode(u.length),T=new Uint8Array(g.length+u.length);return T.set(g,0),T.set(u,g.length),T}function createEncoder(s){return{async setRoots(u){let g=createHeader(u);await s.write(g)},async writeBlock(u){let{cid:g,bytes:T}=u;await s.write(new Uint8Array(C.encode(g.bytes.length+T.length))),await s.write(g.bytes),T.length&&await s.write(T)},close:async()=>s.end()}}function noop(){}function create(){let s=[],u=null,g=noop,T=!1,A=null,E=noop,makeDrainer=()=>(u||(u=new Promise(s=>{g=()=>{u=null,g=noop,s()}})),u),B={write(u){s.push(u);let g=makeDrainer();return E(),g},async end(){T=!0;let s=makeDrainer();return E(),s}},S={async next(){let u=s.shift();return u?(0===s.length&&g(),{done:!1,value:u}):T?(g(),{done:!0,value:void 0}):(A||(A=new Promise(s=>{E=()=>(A=null,E=noop,s(S.next()))})),A)}};return{writer:B,iterator:S}}let writer_browser_CarWriter=class writer_browser_CarWriter{constructor(s,u){this._encoder=u,this._mutex=u.setRoots(s),this._ended=!1}async put(s){if(!(s.bytes instanceof Uint8Array)||!s.cid)throw TypeError("Can only write {cid, bytes} objects");if(this._ended)throw Error("Already closed");let u=O.k.asCID(s.cid);if(!u)throw TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:u,bytes:s.bytes})),this._mutex}async close(){if(this._ended)throw Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(s){s=toRoots(s);let{encoder:u,iterator:g}=encodeWriter(),T=new writer_browser_CarWriter(s,u),A=new CarWriterOut(g);return{writer:T,out:A}}static createAppender(){let{encoder:s,iterator:u}=encodeWriter();s.setRoots=()=>Promise.resolve();let g=new writer_browser_CarWriter([],s),T=new CarWriterOut(u);return{writer:g,out:T}}static async updateRootsInBytes(s,u){let g=bytesReader(s);await readHeader(g);let T=createHeader(u);if(g.pos!==T.length)throw Error(`updateRoots() can only overwrite a header of the same length (old header is ${g.pos} bytes, new header is ${T.length} bytes)`);return s.set(T,0),s}};let CarWriterOut=class CarWriterOut{constructor(s){this._iterator=s}[Symbol.asyncIterator](){if(this._iterating)throw Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}};function encodeWriter(){let s=create(),{writer:u,iterator:g}=s,T=createEncoder(u);return{encoder:T,iterator:g}}function toRoots(s){if(void 0===s)return[];if(!Array.isArray(s)){let u=O.k.asCID(s);if(!u)throw TypeError("roots must be a single CID or an array of CIDs");return[u]}let u=[];for(let g of s){let s=O.k.asCID(g);if(!s)throw TypeError("roots must be a single CID or an array of CIDs");u.push(s)}return u}var ev=g(74643),eA=g(93498),ex=g(15725),eE=g(72868),eB=g(64939),eS=g(87176);function fromNumberTo32BitBuf(s){let u=[,,,,];for(let g=0;g<4;g++)u[g]=255&s,s>>=8;return new Uint8Array(u)}(0,eE.D)({name:"murmur3-32",code:35,encode:s=>fromNumberTo32BitBuf(eS.x86.hash32(s))});let eI=(0,eE.D)({name:"murmur3-128",code:34,encode:s=>eB.aI.fromHex(eS.x64.hash128(s))});async function hamtHashFn(s){return(await eI.encode(s)).slice(0,8).reverse()}let eC={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:ex.sha256,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8};var src_options=(s={})=>{let u=eA.bind({ignoreUndefined:!0});return u(eC,s)},eO=g(92594),eN=g(24481);let eD=eN.Reader,eR=eN.Writer,eL=eN.util,eU=eN.roots["ipfs-unixfs"]||(eN.roots["ipfs-unixfs"]={}),eP=eU.Data=(()=>{function Data(s){if(this.blocksizes=[],s)for(var u=Object.keys(s),g=0;g<u.length;++g)null!=s[u[g]]&&(this[u[g]]=s[u[g]])}return Data.prototype.Type=0,Data.prototype.Data=eL.newBuffer([]),Data.prototype.filesize=eL.Long?eL.Long.fromBits(0,0,!0):0,Data.prototype.blocksizes=eL.emptyArray,Data.prototype.hashType=eL.Long?eL.Long.fromBits(0,0,!0):0,Data.prototype.fanout=eL.Long?eL.Long.fromBits(0,0,!0):0,Data.prototype.mode=0,Data.prototype.mtime=null,Data.encode=function(s,u){if(u||(u=eR.create()),u.uint32(8).int32(s.Type),null!=s.Data&&Object.hasOwnProperty.call(s,"Data")&&u.uint32(18).bytes(s.Data),null!=s.filesize&&Object.hasOwnProperty.call(s,"filesize")&&u.uint32(24).uint64(s.filesize),null!=s.blocksizes&&s.blocksizes.length)for(var g=0;g<s.blocksizes.length;++g)u.uint32(32).uint64(s.blocksizes[g]);return null!=s.hashType&&Object.hasOwnProperty.call(s,"hashType")&&u.uint32(40).uint64(s.hashType),null!=s.fanout&&Object.hasOwnProperty.call(s,"fanout")&&u.uint32(48).uint64(s.fanout),null!=s.mode&&Object.hasOwnProperty.call(s,"mode")&&u.uint32(56).uint32(s.mode),null!=s.mtime&&Object.hasOwnProperty.call(s,"mtime")&&eU.UnixTime.encode(s.mtime,u.uint32(66).fork()).ldelim(),u},Data.decode=function(s,u){s instanceof eD||(s=eD.create(s));for(var g=void 0===u?s.len:s.pos+u,T=new eU.Data;s.pos<g;){var A=s.uint32();switch(A>>>3){case 1:T.Type=s.int32();break;case 2:T.Data=s.bytes();break;case 3:T.filesize=s.uint64();break;case 4:if(T.blocksizes&&T.blocksizes.length||(T.blocksizes=[]),(7&A)==2)for(var E=s.uint32()+s.pos;s.pos<E;)T.blocksizes.push(s.uint64());else T.blocksizes.push(s.uint64());break;case 5:T.hashType=s.uint64();break;case 6:T.fanout=s.uint64();break;case 7:T.mode=s.uint32();break;case 8:T.mtime=eU.UnixTime.decode(s,s.uint32());break;default:s.skipType(7&A)}}if(!T.hasOwnProperty("Type"))throw eL.ProtocolError("missing required 'Type'",{instance:T});return T},Data.fromObject=function(s){if(s instanceof eU.Data)return s;var u=new eU.Data;switch(s.Type){case"Raw":case 0:u.Type=0;break;case"Directory":case 1:u.Type=1;break;case"File":case 2:u.Type=2;break;case"Metadata":case 3:u.Type=3;break;case"Symlink":case 4:u.Type=4;break;case"HAMTShard":case 5:u.Type=5}if(null!=s.Data&&("string"==typeof s.Data?eL.base64.decode(s.Data,u.Data=eL.newBuffer(eL.base64.length(s.Data)),0):s.Data.length&&(u.Data=s.Data)),null!=s.filesize&&(eL.Long?(u.filesize=eL.Long.fromValue(s.filesize)).unsigned=!0:"string"==typeof s.filesize?u.filesize=parseInt(s.filesize,10):"number"==typeof s.filesize?u.filesize=s.filesize:"object"==typeof s.filesize&&(u.filesize=new eL.LongBits(s.filesize.low>>>0,s.filesize.high>>>0).toNumber(!0))),s.blocksizes){if(!Array.isArray(s.blocksizes))throw TypeError(".Data.blocksizes: array expected");u.blocksizes=[];for(var g=0;g<s.blocksizes.length;++g)eL.Long?(u.blocksizes[g]=eL.Long.fromValue(s.blocksizes[g])).unsigned=!0:"string"==typeof s.blocksizes[g]?u.blocksizes[g]=parseInt(s.blocksizes[g],10):"number"==typeof s.blocksizes[g]?u.blocksizes[g]=s.blocksizes[g]:"object"==typeof s.blocksizes[g]&&(u.blocksizes[g]=new eL.LongBits(s.blocksizes[g].low>>>0,s.blocksizes[g].high>>>0).toNumber(!0))}if(null!=s.hashType&&(eL.Long?(u.hashType=eL.Long.fromValue(s.hashType)).unsigned=!0:"string"==typeof s.hashType?u.hashType=parseInt(s.hashType,10):"number"==typeof s.hashType?u.hashType=s.hashType:"object"==typeof s.hashType&&(u.hashType=new eL.LongBits(s.hashType.low>>>0,s.hashType.high>>>0).toNumber(!0))),null!=s.fanout&&(eL.Long?(u.fanout=eL.Long.fromValue(s.fanout)).unsigned=!0:"string"==typeof s.fanout?u.fanout=parseInt(s.fanout,10):"number"==typeof s.fanout?u.fanout=s.fanout:"object"==typeof s.fanout&&(u.fanout=new eL.LongBits(s.fanout.low>>>0,s.fanout.high>>>0).toNumber(!0))),null!=s.mode&&(u.mode=s.mode>>>0),null!=s.mtime){if("object"!=typeof s.mtime)throw TypeError(".Data.mtime: object expected");u.mtime=eU.UnixTime.fromObject(s.mtime)}return u},Data.toObject=function(s,u){u||(u={});var g={};if((u.arrays||u.defaults)&&(g.blocksizes=[]),u.defaults){if(g.Type=u.enums===String?"Raw":0,u.bytes===String?g.Data="":(g.Data=[],u.bytes!==Array&&(g.Data=eL.newBuffer(g.Data))),eL.Long){var T=new eL.Long(0,0,!0);g.filesize=u.longs===String?T.toString():u.longs===Number?T.toNumber():T}else g.filesize=u.longs===String?"0":0;if(eL.Long){var T=new eL.Long(0,0,!0);g.hashType=u.longs===String?T.toString():u.longs===Number?T.toNumber():T}else g.hashType=u.longs===String?"0":0;if(eL.Long){var T=new eL.Long(0,0,!0);g.fanout=u.longs===String?T.toString():u.longs===Number?T.toNumber():T}else g.fanout=u.longs===String?"0":0;g.mode=0,g.mtime=null}if(null!=s.Type&&s.hasOwnProperty("Type")&&(g.Type=u.enums===String?eU.Data.DataType[s.Type]:s.Type),null!=s.Data&&s.hasOwnProperty("Data")&&(g.Data=u.bytes===String?eL.base64.encode(s.Data,0,s.Data.length):u.bytes===Array?Array.prototype.slice.call(s.Data):s.Data),null!=s.filesize&&s.hasOwnProperty("filesize")&&("number"==typeof s.filesize?g.filesize=u.longs===String?String(s.filesize):s.filesize:g.filesize=u.longs===String?eL.Long.prototype.toString.call(s.filesize):u.longs===Number?new eL.LongBits(s.filesize.low>>>0,s.filesize.high>>>0).toNumber(!0):s.filesize),s.blocksizes&&s.blocksizes.length){g.blocksizes=[];for(var A=0;A<s.blocksizes.length;++A)"number"==typeof s.blocksizes[A]?g.blocksizes[A]=u.longs===String?String(s.blocksizes[A]):s.blocksizes[A]:g.blocksizes[A]=u.longs===String?eL.Long.prototype.toString.call(s.blocksizes[A]):u.longs===Number?new eL.LongBits(s.blocksizes[A].low>>>0,s.blocksizes[A].high>>>0).toNumber(!0):s.blocksizes[A]}return null!=s.hashType&&s.hasOwnProperty("hashType")&&("number"==typeof s.hashType?g.hashType=u.longs===String?String(s.hashType):s.hashType:g.hashType=u.longs===String?eL.Long.prototype.toString.call(s.hashType):u.longs===Number?new eL.LongBits(s.hashType.low>>>0,s.hashType.high>>>0).toNumber(!0):s.hashType),null!=s.fanout&&s.hasOwnProperty("fanout")&&("number"==typeof s.fanout?g.fanout=u.longs===String?String(s.fanout):s.fanout:g.fanout=u.longs===String?eL.Long.prototype.toString.call(s.fanout):u.longs===Number?new eL.LongBits(s.fanout.low>>>0,s.fanout.high>>>0).toNumber(!0):s.fanout),null!=s.mode&&s.hasOwnProperty("mode")&&(g.mode=s.mode),null!=s.mtime&&s.hasOwnProperty("mtime")&&(g.mtime=eU.UnixTime.toObject(s.mtime,u)),g},Data.prototype.toJSON=function(){return this.constructor.toObject(this,eN.util.toJSONOptions)},Data.DataType=function(){let s={},u=Object.create(s);return u[s[0]="Raw"]=0,u[s[1]="Directory"]=1,u[s[2]="File"]=2,u[s[3]="Metadata"]=3,u[s[4]="Symlink"]=4,u[s[5]="HAMTShard"]=5,u}(),Data})();eU.UnixTime=(()=>{function UnixTime(s){if(s)for(var u=Object.keys(s),g=0;g<u.length;++g)null!=s[u[g]]&&(this[u[g]]=s[u[g]])}return UnixTime.prototype.Seconds=eL.Long?eL.Long.fromBits(0,0,!1):0,UnixTime.prototype.FractionalNanoseconds=0,UnixTime.encode=function(s,u){return u||(u=eR.create()),u.uint32(8).int64(s.Seconds),null!=s.FractionalNanoseconds&&Object.hasOwnProperty.call(s,"FractionalNanoseconds")&&u.uint32(21).fixed32(s.FractionalNanoseconds),u},UnixTime.decode=function(s,u){s instanceof eD||(s=eD.create(s));for(var g=void 0===u?s.len:s.pos+u,T=new eU.UnixTime;s.pos<g;){var A=s.uint32();switch(A>>>3){case 1:T.Seconds=s.int64();break;case 2:T.FractionalNanoseconds=s.fixed32();break;default:s.skipType(7&A)}}if(!T.hasOwnProperty("Seconds"))throw eL.ProtocolError("missing required 'Seconds'",{instance:T});return T},UnixTime.fromObject=function(s){if(s instanceof eU.UnixTime)return s;var u=new eU.UnixTime;return null!=s.Seconds&&(eL.Long?(u.Seconds=eL.Long.fromValue(s.Seconds)).unsigned=!1:"string"==typeof s.Seconds?u.Seconds=parseInt(s.Seconds,10):"number"==typeof s.Seconds?u.Seconds=s.Seconds:"object"==typeof s.Seconds&&(u.Seconds=new eL.LongBits(s.Seconds.low>>>0,s.Seconds.high>>>0).toNumber())),null!=s.FractionalNanoseconds&&(u.FractionalNanoseconds=s.FractionalNanoseconds>>>0),u},UnixTime.toObject=function(s,u){u||(u={});var g={};if(u.defaults){if(eL.Long){var T=new eL.Long(0,0,!1);g.Seconds=u.longs===String?T.toString():u.longs===Number?T.toNumber():T}else g.Seconds=u.longs===String?"0":0;g.FractionalNanoseconds=0}return null!=s.Seconds&&s.hasOwnProperty("Seconds")&&("number"==typeof s.Seconds?g.Seconds=u.longs===String?String(s.Seconds):s.Seconds:g.Seconds=u.longs===String?eL.Long.prototype.toString.call(s.Seconds):u.longs===Number?new eL.LongBits(s.Seconds.low>>>0,s.Seconds.high>>>0).toNumber():s.Seconds),null!=s.FractionalNanoseconds&&s.hasOwnProperty("FractionalNanoseconds")&&(g.FractionalNanoseconds=s.FractionalNanoseconds),g},UnixTime.prototype.toJSON=function(){return this.constructor.toObject(this,eN.util.toJSONOptions)},UnixTime})(),eU.Metadata=(()=>{function Metadata(s){if(s)for(var u=Object.keys(s),g=0;g<u.length;++g)null!=s[u[g]]&&(this[u[g]]=s[u[g]])}return Metadata.prototype.MimeType="",Metadata.encode=function(s,u){return u||(u=eR.create()),null!=s.MimeType&&Object.hasOwnProperty.call(s,"MimeType")&&u.uint32(10).string(s.MimeType),u},Metadata.decode=function(s,u){s instanceof eD||(s=eD.create(s));for(var g=void 0===u?s.len:s.pos+u,T=new eU.Metadata;s.pos<g;){var A=s.uint32();A>>>3==1?T.MimeType=s.string():s.skipType(7&A)}return T},Metadata.fromObject=function(s){if(s instanceof eU.Metadata)return s;var u=new eU.Metadata;return null!=s.MimeType&&(u.MimeType=String(s.MimeType)),u},Metadata.toObject=function(s,u){u||(u={});var g={};return u.defaults&&(g.MimeType=""),null!=s.MimeType&&s.hasOwnProperty("MimeType")&&(g.MimeType=s.MimeType),g},Metadata.prototype.toJSON=function(){return this.constructor.toObject(this,eN.util.toJSONOptions)},Metadata})();let eM=eP,ez=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],ej=["directory","hamt-sharded-directory"],eF=parseInt("0644",8),e$=parseInt("0755",8);function parseMode(s){return null==s?void 0:"number"==typeof s?4095&s:"0"===(s=s.toString()).substring(0,1)?4095&parseInt(s,8):4095&parseInt(s,10)}function parseMtime(s){let u;if(null!=s){if(null!=s.secs&&(u={secs:s.secs,nsecs:s.nsecs}),null!=s.Seconds&&(u={secs:s.Seconds,nsecs:s.FractionalNanoseconds}),Array.isArray(s)&&(u={secs:s[0],nsecs:s[1]}),s instanceof Date){let g=s.getTime(),T=Math.floor(g/1e3);u={secs:T,nsecs:(g-1e3*T)*1e3}}if(Object.prototype.hasOwnProperty.call(u,"secs")){if(null!=u&&null!=u.nsecs&&(u.nsecs<0||u.nsecs>999999999))throw eO(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return u}}}let UnixFS=class UnixFS{static unmarshal(s){let u=eM.decode(s),g=eM.toObject(u,{defaults:!1,arrays:!0,longs:Number,objects:!1}),T=new UnixFS({type:ez[g.Type],data:g.Data,blockSizes:g.blocksizes,mode:g.mode,mtime:g.mtime?{secs:g.mtime.Seconds,nsecs:g.mtime.FractionalNanoseconds}:void 0});return T._originalMode=g.mode||0,T}constructor(s={type:"file"}){let{type:u,data:g,blockSizes:T,hashType:A,fanout:E,mtime:B,mode:S}=s;if(u&&!ez.includes(u))throw eO(Error("Type: "+u+" is not valid"),"ERR_INVALID_TYPE");this.type=u||"file",this.data=g,this.hashType=A,this.fanout=E,this.blockSizes=T||[],this._originalMode=0,this.mode=parseMode(S),B&&(this.mtime=parseMtime(B),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(s){this._mode=this.isDirectory()?e$:eF;let u=parseMode(s);void 0!==u&&(this._mode=u)}get mode(){return this._mode}isDirectory(){return!!(this.type&&ej.includes(this.type))}addBlockSize(s){this.blockSizes.push(s)}removeBlockSize(s){this.blockSizes.splice(s,1)}fileSize(){if(this.isDirectory())return 0;let s=0;return this.blockSizes.forEach(u=>{s+=u}),this.data&&(s+=this.data.length),s}marshal(){let s,u,g;switch(this.type){case"raw":s=eM.DataType.Raw;break;case"directory":s=eM.DataType.Directory;break;case"file":s=eM.DataType.File;break;case"metadata":s=eM.DataType.Metadata;break;case"symlink":s=eM.DataType.Symlink;break;case"hamt-sharded-directory":s=eM.DataType.HAMTShard;break;default:throw eO(Error("Type: "+s+" is not valid"),"ERR_INVALID_TYPE")}let T=this.data;if(this.data&&this.data.length||(T=void 0),null!=this.mode&&((u=4294963200&this._originalMode|(parseMode(this.mode)||0))!==eF||this.isDirectory()||(u=void 0),u===e$&&this.isDirectory()&&(u=void 0)),null!=this.mtime){let s=parseMtime(this.mtime);s&&0===(g={Seconds:s.secs,FractionalNanoseconds:s.nsecs}).FractionalNanoseconds&&delete g.FractionalNanoseconds}let A={Type:s,Data:T,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:u,mtime:g};return eM.encode(A).finish()}};let eV=new TextDecoder;function decodeVarint(s,u){let g=0;for(let T=0;;T+=7){if(T>=64)throw Error("protobuf: varint overflow");if(u>=s.length)throw Error("protobuf: unexpected end of data");let A=s[u++];if(g+=T<28?(127&A)<<T:(127&A)*2**T,A<128)break}return[g,u]}function decodeBytes(s,u){let g;[g,u]=decodeVarint(s,u);let T=u+g;if(g<0||T<0)throw Error("protobuf: invalid length");if(T>s.length)throw Error("protobuf: unexpected end of data");return[s.subarray(u,T),T]}function decodeKey(s,u){let g;return[g,u]=decodeVarint(s,u),[7&g,g>>3,u]}function decodeLink(s){let u={},g=s.length,T=0;for(;T<g;){let g,A;if([g,A,T]=decodeKey(s,T),1===A){if(u.Hash)throw Error("protobuf: (PBLink) duplicate Hash section");if(2!==g)throw Error(`protobuf: (PBLink) wrong wireType (${g}) for Hash`);if(void 0!==u.Name)throw Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==u.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[u.Hash,T]=decodeBytes(s,T)}else if(2===A){let A;if(void 0!==u.Name)throw Error("protobuf: (PBLink) duplicate Name section");if(2!==g)throw Error(`protobuf: (PBLink) wrong wireType (${g}) for Name`);if(void 0!==u.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Name");[A,T]=decodeBytes(s,T),u.Name=eV.decode(A)}else if(3===A){if(void 0!==u.Tsize)throw Error("protobuf: (PBLink) duplicate Tsize section");if(0!==g)throw Error(`protobuf: (PBLink) wrong wireType (${g}) for Tsize`);[u.Tsize,T]=decodeVarint(s,T)}else throw Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${A}`)}if(T>g)throw Error("protobuf: (PBLink) unexpected end of data");return u}function decodeNode(s){let u,g;let T=s.length,A=0,E=!1;for(;A<T;){let T,B;if([T,B,A]=decodeKey(s,A),2!==T)throw Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${T}`);if(1===B){if(g)throw Error("protobuf: (PBNode) duplicate Data section");[g,A]=decodeBytes(s,A),u&&(E=!0)}else if(2===B){let g;if(E)throw Error("protobuf: (PBNode) duplicate Links section");u||(u=[]),[g,A]=decodeBytes(s,A),u.push(decodeLink(g))}else throw Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${B}`)}if(A>T)throw Error("protobuf: (PBNode) unexpected end of data");let B={};return g&&(B.Data=g),B.Links=u||[],B}let eW=new TextEncoder,eH=4294967296,eG=2147483648;function encodeLink(s,u){let g=u.length;if("number"==typeof s.Tsize){if(s.Tsize<0)throw Error("Tsize cannot be negative");if(!Number.isSafeInteger(s.Tsize))throw Error("Tsize too large for encoding");g=encodeVarint(u,g,s.Tsize)-1,u[g]=24}if("string"==typeof s.Name){let T=eW.encode(s.Name);g-=T.length,u.set(T,g),g=encodeVarint(u,g,T.length)-1,u[g]=18}return s.Hash&&(g-=s.Hash.length,u.set(s.Hash,g),g=encodeVarint(u,g,s.Hash.length)-1,u[g]=10),u.length-g}function encodeNode(s){let u=sizeNode(s),g=new Uint8Array(u),T=u;if(s.Data&&(T-=s.Data.length,g.set(s.Data,T),T=encodeVarint(g,T,s.Data.length)-1,g[T]=10),s.Links)for(let u=s.Links.length-1;u>=0;u--){let A=encodeLink(s.Links[u],g.subarray(0,T));T-=A,T=encodeVarint(g,T,A)-1,g[T]=18}return g}function sizeLink(s){let u=0;if(s.Hash){let g=s.Hash.length;u+=1+g+sov(g)}if("string"==typeof s.Name){let g=eW.encode(s.Name).length;u+=1+g+sov(g)}return"number"==typeof s.Tsize&&(u+=1+sov(s.Tsize)),u}function sizeNode(s){let u=0;if(s.Data){let g=s.Data.length;u+=1+g+sov(g)}if(s.Links)for(let g of s.Links){let s=sizeLink(g);u+=1+s+sov(s)}return u}function encodeVarint(s,u,g){u-=sov(g);let T=u;for(;g>=eG;)s[u++]=127&g|128,g/=128;for(;g>=128;)s[u++]=127&g|128,g>>>=7;return s[u]=g,T}function sov(s){return s%2==0&&s++,Math.floor((len64(s)+6)/7)}function len64(s){let u=0;return s>=eH&&(s=Math.floor(s/eH),u=32),s>=65536&&(s>>>=16,u+=16),s>=256&&(s>>>=8,u+=8),u+eX[s]}let eX=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],eq=["Data","Links"],eK=["Hash","Name","Tsize"],eJ=new TextEncoder;function linkComparator(s,u){if(s===u)return 0;let g=s.Name?eJ.encode(s.Name):[],T=u.Name?eJ.encode(u.Name):[],A=g.length,E=T.length;for(let s=0,u=Math.min(A,E);s<u;++s)if(g[s]!==T[s]){A=g[s],E=T[s];break}return A<E?-1:E<A?1:0}function hasOnlyProperties(s,u){return!Object.keys(s).some(s=>!u.includes(s))}function asLink(s){if("object"==typeof s.asCID){let u=O.k.asCID(s);if(!u)throw TypeError("Invalid DAG-PB form");return{Hash:u}}if("object"!=typeof s||Array.isArray(s))throw TypeError("Invalid DAG-PB form");let u={};if(s.Hash){let g=O.k.asCID(s.Hash);try{!g&&("string"==typeof s.Hash?g=O.k.parse(s.Hash):s.Hash instanceof Uint8Array&&(g=O.k.decode(s.Hash)))}catch(s){throw TypeError(`Invalid DAG-PB form: ${s.message}`)}g&&(u.Hash=g)}if(!u.Hash)throw TypeError("Invalid DAG-PB form");return"string"==typeof s.Name&&(u.Name=s.Name),"number"==typeof s.Tsize&&(u.Tsize=s.Tsize),u}function prepare(s){if((s instanceof Uint8Array||"string"==typeof s)&&(s={Data:s}),"object"!=typeof s||Array.isArray(s))throw TypeError("Invalid DAG-PB form");let u={};if(void 0!==s.Data){if("string"==typeof s.Data)u.Data=eJ.encode(s.Data);else if(s.Data instanceof Uint8Array)u.Data=s.Data;else throw TypeError("Invalid DAG-PB form")}if(void 0!==s.Links){if(Array.isArray(s.Links))u.Links=s.Links.map(asLink),u.Links.sort(linkComparator);else throw TypeError("Invalid DAG-PB form")}else u.Links=[];return u}function validate(s){if(!s||"object"!=typeof s||Array.isArray(s))throw TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(s,eq))throw TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==s.Data&&!(s.Data instanceof Uint8Array))throw TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(s.Links))throw TypeError("Invalid DAG-PB form (Links must be an array)");for(let u=0;u<s.Links.length;u++){let g=s.Links[u];if(!g||"object"!=typeof g||Array.isArray(g))throw TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(g,eK))throw TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!g.Hash)throw TypeError("Invalid DAG-PB form (link must have a Hash)");if(g.Hash.asCID!==g.Hash)throw TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==g.Name&&"string"!=typeof g.Name)throw TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==g.Tsize&&("number"!=typeof g.Tsize||g.Tsize%1!=0))throw TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(u>0&&-1===linkComparator(g,s.Links[u-1]))throw TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(s,u=[]){return prepare({Data:s,Links:u})}function createLink(s,u,g){return asLink({Hash:g,Name:s,Tsize:u})}let eQ="dag-pb",eY=112;function src_encode(s){validate(s);let u={};return s.Links&&(u.Links=s.Links.map(s=>{let u={};return s.Hash&&(u.Hash=s.Hash.bytes),void 0!==s.Name&&(u.Name=s.Name),void 0!==s.Tsize&&(u.Tsize=s.Tsize),u})),s.Data&&(u.Data=s.Data),encodeNode(u)}function src_decode(s){let u=decodeNode(s),g={};return u.Data&&(g.Data=u.Data),u.Links&&(g.Links=u.Links.map(s=>{let u={};try{u.Hash=O.k.decode(s.Hash)}catch(s){}if(!u.Hash)throw Error("Invalid Hash field found in link, expected CID");return void 0!==s.Name&&(u.Name=s.Name),void 0!==s.Tsize&&(u.Tsize=s.Tsize),u})),g}let persist=async(s,u,g)=>{g.codec||(g.codec=T),g.hasher||(g.hasher=ex.sha256),void 0===g.cidVersion&&(g.cidVersion=1),g.codec===T&&g.hasher!==ex.sha256&&(g.cidVersion=1);let A=await g.hasher.digest(s),E=O.k.create(g.cidVersion,g.codec.code,A);return g.onlyHash||await u.put(E,s,{signal:g.signal}),E};var eZ=persist;let dirBuilder=async(s,u,g)=>{let T=new UnixFS({type:"directory",mtime:s.mtime,mode:s.mode}),A=src_encode(prepare({Data:T.marshal()})),E=await eZ(A,u,g),B=s.path;return{cid:E,path:B,unixfs:T,size:A.length}};var e0=dirBuilder,e3=g(47615),e6=g(27773),file_flat=async function(s,u){return u(await e6(s))},e4=g(3717);async function reduceToParents(s,u,g){let T=[];for await(let A of e4(s,g.maxChildrenPerNode))T.push(await u(A));return T.length>1?reduceToParents(T,u,g):T[0]}var file_balanced=function(s,u,g){return reduceToParents(s,u,g)},trickle=async function(s,u,g){let T=new Root(g.layerRepeat),A=0,E=1,B=T;for await(let S of e4(s,g.maxChildrenPerNode))B.isFull()&&(B!==T&&T.addChild(await B.reduce(u)),A&&A%g.layerRepeat==0&&E++,B=new SubTree(E,g.layerRepeat,A),A++),B.append(S);return B&&B!==T&&T.addChild(await B.reduce(u)),T.reduce(u)};let SubTree=class SubTree{constructor(s,u,g=0){this.maxDepth=s,this.layerRepeat=u,this.currentDepth=1,this.iteration=g,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:s,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;let s=this._findParent(this.node,this.currentDepth);return!s||(this._addNextNodeToParent(s),!1)}_addNextNodeToParent(s){this.parent=s;let u={children:[],depth:s.depth+1,parent:s,maxDepth:this.maxDepth,maxChildren:Math.floor(s.children.length/this.layerRepeat)*this.layerRepeat};s.children.push(u),this.currentDepth=u.depth,this.node=u}append(s){this.node.data=s}reduce(s){return this._reduce(this.root,s)}async _reduce(s,u){let g=[];return s.children.length&&(g=await Promise.all(s.children.filter(s=>s.data).map(s=>this._reduce(s,u)))),u((s.data||[]).concat(g))}_findParent(s,u){let g=s.parent;return g&&0!==g.depth?g.children.length!==g.maxChildren&&g.maxChildren?g:this._findParent(g,u):void 0}};let Root=class Root extends SubTree{constructor(s){super(0,s),this.root.depth=0,this.currentDepth=1}addChild(s){this.root.children.push(s)}reduce(s){return s((this.root.data||[]).concat(this.root.children))}};var buffer_importer=async function*(s,u,g){for await(let A of s.content)yield async()=>{let E;g.progress(A.length,s.path);let B={codec:T,cidVersion:g.cidVersion,hasher:g.hasher,onlyHash:g.onlyHash};return g.rawLeaves?(B.codec=e3,B.cidVersion=1):A=src_encode({Data:(E=new UnixFS({type:g.leafType,data:A})).marshal(),Links:[]}),{cid:await eZ(A,u,B),unixfs:E,size:A.length}}};let e5={flat:file_flat,balanced:file_balanced,trickle:trickle};async function*buildFileBatch(s,u,g){let T,A,E=-1;for await(let B of ev((A="function"==typeof g.bufferImporter?g.bufferImporter:buffer_importer)(s,u,g),g.blockWriteConcurrency)){if(0==++E){T=B;continue}1===E&&T&&(yield T,T=null),yield B}T&&(T.single=!0,yield T)}let file_reduce=(s,u,g)=>async function(A){if(1===A.length&&A[0].single&&g.reduceSingleLeafToSelf){let E=A[0];if(void 0!==s.mtime||void 0!==s.mode){let A=await u.get(E.cid);E.unixfs=new UnixFS({type:"file",mtime:s.mtime,mode:s.mode,data:A}),A=src_encode(prepare({Data:E.unixfs.marshal()})),E.cid=await eZ(A,u,{...g,codec:T,hasher:g.hasher,cidVersion:g.cidVersion}),E.size=A.length}return{cid:E.cid,path:s.path,unixfs:E.unixfs,size:E.size}}let E=new UnixFS({type:"file",mtime:s.mtime,mode:s.mode}),B=A.filter(s=>!!(s.cid.code===e3.code&&s.size||s.unixfs&&!s.unixfs.data&&s.unixfs.fileSize())||!!(s.unixfs&&s.unixfs.data&&s.unixfs.data.length)).map(s=>(s.cid.code===e3.code?E.addBlockSize(s.size):s.unixfs&&s.unixfs.data?E.addBlockSize(s.unixfs.data.length):E.addBlockSize(s.unixfs&&s.unixfs.fileSize()||0),{Name:"",Tsize:s.size,Hash:s.cid})),S={Data:E.marshal(),Links:B},I=src_encode(prepare(S)),C=await eZ(I,u,g);return{cid:C,path:s.path,unixfs:E,size:I.length+S.Links.reduce((s,u)=>s+u.Tsize,0)}};var dag_builder_file=function(s,u,g){let T=e5[g.strategy];if(!T)throw eO(Error(`Unknown importer build strategy name: ${g.strategy}`),"ERR_BAD_STRATEGY");return T(buildFileBatch(s,u,g),file_reduce(s,u,g),g)},e8=g(75368),e7=g(11037),rabin=async function*(s,u){let g,T,A;if(u.minChunkSize&&u.maxChunkSize&&u.avgChunkSize)A=u.avgChunkSize,g=u.minChunkSize,T=u.maxChunkSize;else if(u.avgChunkSize)g=(A=u.avgChunkSize)/3,T=A+A/2;else throw eO(Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(g<16)throw eO(Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");T<g&&(T=g),A<g&&(A=g);let E=Math.floor(Math.log2(A));for await(let A of rabin_rabin(s,{min:g,max:T,bits:E,window:u.window,polynomial:u.polynomial}))yield A};async function*rabin_rabin(s,u){let g=await (0,e7.create)(u.bits,u.min,u.max,u.window),T=new e8;for await(let u of s){T.append(u);let s=g.fingerprint(u);for(let u=0;u<s.length;u++){let g=s[u],A=T.slice(0,g);T.consume(g),yield A}}T.length&&(yield T.slice(0))}var fixed_size=async function*(s,u){let g=new e8,T=0,A=!1,E=u.maxChunkSize;for await(let u of s)for(g.append(u),T+=u.length;T>=E;)if(yield g.slice(0,E),A=!0,E===g.length)g=new e8,T=0;else{let s=new e8;s.append(g.shallowSlice(E)),g=s,T-=E}(!A||T)&&(yield g.slice(0,T))},e9=g(34901),validate_chunks=async function*(s){for await(let u of s){if(void 0===u.length)throw eO(Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof u||u instanceof String)yield(0,e9.fromString)(u.toString());else if(Array.isArray(u))yield Uint8Array.from(u);else if(u instanceof Uint8Array)yield u;else throw eO(Error("Content was invalid"),"ERR_INVALID_CONTENT")}};function isIterable(s){return Symbol.iterator in s}function isAsyncIterable(s){return Symbol.asyncIterator in s}function contentAsAsyncIterable(s){try{if(s instanceof Uint8Array)return async function*(){yield s}();if(isIterable(s))return async function*(){yield*s}();if(isAsyncIterable(s))return s}catch{throw eO(Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw eO(Error("Content was invalid"),"ERR_INVALID_CONTENT")}var dag_builder=async function*(s,u,g){for await(let T of s)if(T.path&&("./"===T.path.substring(0,2)&&(g.wrapWithDirectory=!0),T.path=T.path.split("/").filter(s=>s&&"."!==s).join("/")),T.content){let s,A;s="function"==typeof g.chunker?g.chunker:"rabin"===g.chunker?rabin:fixed_size,A="function"==typeof g.chunkValidator?g.chunkValidator:validate_chunks;let E={path:T.path,mtime:T.mtime,mode:T.mode,content:s(A(contentAsAsyncIterable(T.content),g),g)};yield()=>dag_builder_file(E,u,g)}else if(T.path){let s={path:T.path,mtime:T.mtime,mode:T.mode};yield()=>e0(s,u,g)}else throw Error("Import candidate must have content or path or both")};let Dir=class Dir{constructor(s,u){this.options=u||{},this.root=s.root,this.dir=s.dir,this.path=s.path,this.dirty=s.dirty,this.flat=s.flat,this.parent=s.parent,this.parentKey=s.parentKey,this.unixfs=s.unixfs,this.mode=s.mode,this.mtime=s.mtime,this.cid=void 0,this.size=void 0}async put(s,u){}get(s){return Promise.resolve(this)}async *eachChildSeries(){}async *flush(s){}};var te=Dir;let DirFlat=class DirFlat extends te{constructor(s,u){super(s,u),this._children={}}async put(s,u){this.cid=void 0,this.size=void 0,this._children[s]=u}get(s){return Promise.resolve(this._children[s])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async *eachChildSeries(){let s=Object.keys(this._children);for(let u=0;u<s.length;u++){let g=s[u];yield{key:g,child:this._children[g]}}}async *flush(s){let u=Object.keys(this._children),g=[];for(let T=0;T<u.length;T++){let A=this._children[u[T]];if(A instanceof te)for await(let u of A.flush(s))A=u,yield A;null!=A.size&&A.cid&&g.push({Name:u[T],Tsize:A.size,Hash:A.cid})}let T=new UnixFS({type:"directory",mtime:this.mtime,mode:this.mode}),A={Data:T.marshal(),Links:g},E=src_encode(prepare(A)),B=await eZ(E,s,this.options),S=E.length+A.Links.reduce((s,u)=>s+(null==u.Tsize?0:u.Tsize),0);this.cid=B,this.size=S,yield{cid:B,unixfs:T,path:this.path,size:S}}};var tt=DirFlat,tr=g(13069);let DirSharded=class DirSharded extends te{constructor(s,u){super(s,u),this._bucket=(0,tr.createHAMT)({hashFn:u.hamtHashFn,bits:u.hamtBucketBits})}async put(s,u){await this._bucket.put(s,u)}get(s){return this._bucket.get(s)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async *eachChildSeries(){for await(let{key:s,value:u}of this._bucket.eachLeafSeries())yield{key:s,child:u}}async *flush(s){for await(let u of flush(this._bucket,s,this,this.options))yield{...u,path:this.path}}};var tn=DirSharded;async function*flush(s,u,g,T){let A=s._children,E=[],B=0;for(let s=0;s<A.length;s++){let g=A.get(s);if(!g)continue;let S=s.toString(16).toUpperCase().padStart(2,"0");if(g instanceof tr.Bucket){let s;for await(let A of(await flush(g,u,null,T)))s=A;if(!s)throw Error("Could not flush sharded directory, no subshard found");E.push({Name:S,Tsize:s.size,Hash:s.cid}),B+=s.size}else if("function"==typeof g.value.flush){let s;let T=g.value;for await(let g of T.flush(u))s=g,yield s;let A=S+g.key;E.push({Name:A,Tsize:s.size,Hash:s.cid}),B+=s.size}else{let s=g.value;if(!s.cid)continue;let u=S+g.key,T=s.size;E.push({Name:u,Tsize:T,Hash:s.cid}),B+=T}}let S=Uint8Array.from(A.bitField().reverse()),I=new UnixFS({type:"hamt-sharded-directory",data:S,fanout:s.tableSize(),hashType:T.hamtHashCode,mtime:g&&g.mtime,mode:g&&g.mode}),C={Data:I.marshal(),Links:E},O=src_encode(prepare(C)),N=await eZ(O,u,T),D=O.length+B;yield{cid:N,unixfs:I,size:D}}async function flatToShard(s,u,g,T){let A=u;u instanceof tt&&u.directChildrenCount()>=g&&(A=await convertToShard(u,T));let E=A.parent;if(E){if(A!==u){if(s&&(s.parent=A),!A.parentKey)throw Error("No parent key found");await E.put(A.parentKey,A)}return flatToShard(A,E,g,T)}return A}async function convertToShard(s,u){let g=new tn({root:s.root,dir:!0,parent:s.parent,parentKey:s.parentKey,path:s.path,dirty:s.dirty,flat:!1,mtime:s.mtime,mode:s.mode},u);for await(let{key:u,child:T}of s.eachChildSeries())await g.put(u,T);return g}var ti=flatToShard;let toPathComponents=(s="")=>(s.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean);var to=toPathComponents;async function addToTree(s,u,g){let T=to(s.path||""),A=T.length-1,E=u,B="";for(let S=0;S<T.length;S++){let I=T[S];B+=`${B?"/":""}${I}`;let C=S===A;if(E.dirty=!0,E.cid=void 0,E.size=void 0,C)await E.put(I,s),u=await ti(null,E,g.shardSplitThreshold,g);else{let s=await E.get(I);s&&s instanceof te||(s=new tt({root:!1,dir:!0,parent:E,parentKey:I,path:B,dirty:!0,flat:!0,mtime:s&&s.unixfs&&s.unixfs.mtime,mode:s&&s.unixfs&&s.unixfs.mode},g)),await E.put(I,s),E=s}}return u}async function*flushAndYield(s,u){if(!(s instanceof te)){s&&s.unixfs&&s.unixfs.isDirectory()&&(yield s);return}yield*s.flush(u)}var tree_builder=async function*(s,u,g){let T=new tt({root:!0,dir:!0,path:"",dirty:!0,flat:!0},g);for await(let u of s)u&&(T=await addToTree(u,T,g),u.unixfs&&u.unixfs.isDirectory()||(yield u));if(g.wrapWithDirectory)yield*flushAndYield(T,u);else for await(let s of T.eachChildSeries())s&&(yield*flushAndYield(s.child,u))};async function*importer(s,u,g={}){let T,A;let E=src_options(g);for await(let B of(T="function"==typeof g.dagBuilder?g.dagBuilder:dag_builder,("function"==typeof g.treeBuilder?g.treeBuilder:tree_builder)(ev(T(A=Symbol.asyncIterator in s||Symbol.iterator in s?s:[s],u,E),E.fileImportConcurrency),u,E)))yield{cid:B.cid,path:B.path,unixfs:B.unixfs,size:B.size}}var ta=g(78006),ts=g(73780),tl=g(81412),tu=g(20524);function isBytes(s){return ArrayBuffer.isView(s)||s instanceof ArrayBuffer}function isBlob(s){return s.constructor&&("Blob"===s.constructor.name||"File"===s.constructor.name)&&"function"==typeof s.stream}function isFileObject(s){return"object"==typeof s&&(s.path||s.content)}let isReadableStream=s=>s&&"function"==typeof s.getReader;async function*toAsyncIterable(s){yield s}async function normaliseContent(s){if(isBytes(s))return toAsyncIterable(normalise_content_toBytes(s));if("string"==typeof s||s instanceof String)return toAsyncIterable(normalise_content_toBytes(s.toString()));if(isBlob(s))return ts(s);if(isReadableStream(s)&&(s=ta(s)),Symbol.iterator in s||Symbol.asyncIterator in s){let u=tl(s),{value:g,done:T}=await u.peek();if(T)return toAsyncIterable(new Uint8Array(0));if(u.push(g),Number.isInteger(g))return toAsyncIterable(Uint8Array.from(await e6(u)));if(isBytes(g)||"string"==typeof g||g instanceof String)return tu(u,normalise_content_toBytes)}throw eO(Error(`Unexpected input: ${s}`),"ERR_UNEXPECTED_INPUT")}function normalise_content_toBytes(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):s instanceof ArrayBuffer?new Uint8Array(s):Array.isArray(s)?Uint8Array.from(s):(0,e9.fromString)(s.toString())}async function*normaliseCandidateSingle(s,u){if(null==s)throw eO(Error(`Unexpected input: ${s}`),"ERR_UNEXPECTED_INPUT");if("string"==typeof s||s instanceof String){yield toFileObject(s.toString(),u);return}if(isBytes(s)||isBlob(s)){yield toFileObject(s,u);return}if(isReadableStream(s)&&(s=ta(s)),Symbol.iterator in s||Symbol.asyncIterator in s){let g=tl(s),{value:T,done:A}=await g.peek();if(A){yield{content:[]};return}if(g.push(T),Number.isInteger(T)||isBytes(T)||"string"==typeof T||T instanceof String){yield toFileObject(g,u);return}throw eO(Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(isFileObject(s)){yield toFileObject(s,u);return}throw eO(Error('Unexpected input: cannot convert "'+typeof s+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function toFileObject(s,u){let{path:g,mode:T,mtime:A,content:E}=s,B={path:g||"",mode:parseMode(T),mtime:parseMtime(A)};return E?B.content=await u(E):g||(B.content=await u(s)),B}function normaliseInput(s){return normaliseCandidateSingle(s,normaliseContent)}async function*normaliseCandidateMultiple(s,u){if("string"==typeof s||s instanceof String||isBytes(s)||isBlob(s)||s._readableState)throw eO(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(isReadableStream(s)&&(s=ta(s)),Symbol.iterator in s||Symbol.asyncIterator in s){let g=tl(s),{value:T,done:A}=await g.peek();if(A){yield*[];return}if(g.push(T),Number.isInteger(T))throw eO(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(T._readableState){yield*tu(g,s=>normalise_candidate_multiple_toFileObject({content:s},u));return}if(isBytes(T)){yield normalise_candidate_multiple_toFileObject({content:g},u);return}if(isFileObject(T)||T[Symbol.iterator]||T[Symbol.asyncIterator]||isReadableStream(T)||isBlob(T)){yield*tu(g,s=>normalise_candidate_multiple_toFileObject(s,u));return}}if(isFileObject(s))throw eO(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw eO(Error("Unexpected input: "+typeof s),"ERR_UNEXPECTED_INPUT")}async function normalise_candidate_multiple_toFileObject(s,u){let{path:g,mode:T,mtime:A,content:E}=s,B={path:g||"",mode:parseMode(T),mtime:parseMtime(A)};return E?B.content=await u(E):g||(B.content=await u(s)),B}function normalise_input_multiple_normaliseInput(s){return normaliseCandidateMultiple(s,normaliseContent)}function normalise_input_isBytes(s){return ArrayBuffer.isView(s)||s instanceof ArrayBuffer}function normalise_input_isBlob(s){return!!s.constructor&&("Blob"===s.constructor.name||"File"===s.constructor.name)&&"function"==typeof s.stream}function isSingle(s){return"string"==typeof s||s instanceof String||normalise_input_isBytes(s)||normalise_input_isBlob(s)||"_readableState"in s}function getNormaliser(s){return isSingle(s)?normaliseInput(s):normalise_input_multiple_normaliseInput(s)}function notFoundError(s){return eO(s=s||Error("Not Found"),"ERR_NOT_FOUND")}function abortedError(s){return eO(s=s||Error("Aborted"),"ERR_ABORTED")}var tc=g(84998),tf=g(61890),th=g(33107);let sortAll=(s,u)=>(async function*(){let g=await e6(s);yield*g.sort(u)})();let base_BaseBlockstore=class base_BaseBlockstore{open(){return Promise.reject(Error(".open is not implemented"))}close(){return Promise.reject(Error(".close is not implemented"))}put(s,u,g){return Promise.reject(Error(".put is not implemented"))}get(s,u){return Promise.reject(Error(".get is not implemented"))}has(s,u){return Promise.reject(Error(".has is not implemented"))}delete(s,u){return Promise.reject(Error(".delete is not implemented"))}async *putMany(s,u={}){for await(let{key:g,value:T}of s)await this.put(g,T,u),yield{key:g,value:T}}async *getMany(s,u={}){for await(let g of s)yield this.get(g,u)}async *deleteMany(s,u={}){for await(let g of s)await this.delete(g,u),yield g}batch(){let s=[],u=[];return{put(u,g){s.push({key:u,value:g})},delete(s){u.push(s)},commit:async g=>{await tc(this.putMany(s,g)),s=[],await tc(this.deleteMany(u,g)),u=[]}}}async *_all(s,u){throw Error("._all is not implemented")}async *_allKeys(s,u){throw Error("._allKeys is not implemented")}query(s,u){let g=this._all(s,u);if(null!=s.prefix&&(g=tf(g,u=>u.key.toString().startsWith(s.prefix||""))),Array.isArray(s.filters)&&(g=s.filters.reduce((s,u)=>tf(s,u),g)),Array.isArray(s.orders)&&(g=s.orders.reduce((s,u)=>sortAll(s,u),g)),null!=s.offset){let u=0;g=tf(g,()=>u++>=(s.offset||0))}return null!=s.limit&&(g=th(g,s.limit)),g}queryKeys(s,u){let g=this._allKeys(s,u);if(null!=s.prefix&&(g=tf(g,u=>u.toString().startsWith(s.prefix||""))),Array.isArray(s.filters)&&(g=s.filters.reduce((s,u)=>tf(s,u),g)),Array.isArray(s.orders)&&(g=s.orders.reduce((s,u)=>sortAll(s,u),g)),null!=s.offset){let u=0;g=tf(g,()=>u++>=s.offset)}return null!=s.limit&&(g=th(g,s.limit)),g}};g(74570);let MemoryBlockStore=class MemoryBlockStore extends base_BaseBlockstore{constructor(){super(),this.store=new Map}async *blocks(){for(let[s,u]of this.store.entries())yield{cid:eB.k0.parse(s),bytes:u}}put(s,u){return this.store.set(s.toString(),u),Promise.resolve()}get(s){let u=this.store.get(s.toString());if(!u)throw Error(`block with cid ${s.toString()} no found`);return Promise.resolve(u)}has(s){return Promise.resolve(this.store.has(s.toString()))}close(){return this.store.clear(),Promise.resolve()}};let td={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:ex.sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function pack({input:s,blockstore:u,hasher:g,maxChunkSize:T,maxChildrenPerNode:A,wrapWithDirectory:E,rawLeaves:B}){let C;if(!s||Array.isArray(s)&&!s.length)throw Error("missing input file(s)");let O=u||new MemoryBlockStore,N=await S(I(getNormaliser(s),s=>importer(s,O,{...td,hasher:g||td.hasher,maxChunkSize:T||td.maxChunkSize,maxChildrenPerNode:A||td.maxChildrenPerNode,wrapWithDirectory:!1!==E&&td.wrapWithDirectory,rawLeaves:null==B?td.rawLeaves:B})));if(!N||!N.cid)throw Error("given input could not be parsed correctly");let D=N.cid,{writer:R,out:L}=await writer_browser_CarWriter.create([D]),U=L[Symbol.asyncIterator](),writeAll=async()=>{for await(let s of O.blocks())await R.put(s);await R.close(),u||await O.close()},P={[Symbol.asyncIterator](){if(null!=C)throw Error("Multiple iterator not supported");return C=writeAll(),{async next(){let s=await U.next();return s.done&&await C,s}}}};return{root:D,out:P}}let tp=2e3,ty=!1;function hasRel(s){return s&&s.rel}function intoRels(s,u){function splitRel(g){s[g]=Object.assign({},u,{rel:g})}return u.rel.split(/\s+/).forEach(splitRel),s}function createObjects(s,u){let g=u.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return g&&(s[g[1]]=g[2]),s}function parseLink(s){try{let u=s.match(/<?([^>]*)>(.*)/),g=u[1],T=u[2].split(";"),A={},E=new URL(g,"https://example.com");for(let[s,u]of E.searchParams)A[s]=u;T.shift();let B=T.reduce(createObjects,{});return(B=Object.assign({},A,B)).url=g,B}catch{return null}}function checkHeader(s,u){if(!s)return!1;u=u||{};let g=u.maxHeaderLength||tp,T=u.throwOnMaxHeaderLengthExceeded||ty;if(s.length>g){if(!T)return!1;throw Error("Input string too long, it should be under "+g+" characters.")}return!0}function parseLinkHeader(s,u){return checkHeader(s,u)?s.split(/,\s*</).map(parseLink).filter(hasRel).reduce(intoRels,{}):null}var tg=g(21970);let hashFn=async function(s){return(await eI.encode(s)).slice(0,8).reverse()},addLinksToHamtBucket=(s,u,g)=>Promise.all(s.map(s=>{if(null==s.Name)throw Error("Unexpected Link without a Name");if(2===s.Name.length){let T=parseInt(s.Name,16);return u._putObjectAt(T,new tr.Bucket({hash:g._options.hash,bits:g._options.bits},u,T))}return g.put(s.Name.substring(2),!0)})),toPrefix=s=>s.toString(16).toUpperCase().padStart(2,"0").substring(0,2),toBucketPath=s=>{let u=s.bucket,g=[];for(;u._parent;)g.push(u),u=u._parent;return g.push(u),g.reverse()},findShardCid=async(s,u,g,T,A)=>{if(!T){let s=(0,tr.createHAMT)({hashFn});T={rootBucket:s,hamtDepth:1,lastBucket:s}}await addLinksToHamtBucket(s.Links,T.lastBucket,T.rootBucket);let E=await T.rootBucket._findNewBucketAndPos(u),B=toPrefix(E.pos),S=toBucketPath(E);S.length>T.hamtDepth&&(T.lastBucket=S[T.hamtDepth],B=toPrefix(T.lastBucket._posAtParent));let I=s.Links.find(s=>{if(null==s.Name)return!1;let g=s.Name.substring(0,2),T=s.Name.substring(2);return g===B&&(!T||T===u)});if(!I)return null;if(null!=I.Name&&I.Name.substring(2)===u)return I.Hash;T.hamtDepth++;let C=await g.get(I.Hash,A);return findShardCid(s=src_decode(C),u,g,T,A)};var tm=findShardCid,extract_data_from_block=function(s,u,g,T){let A=s.length,E=u+A;return g>=E||T<u?new Uint8Array(0):(T>=u&&T<E&&(s=s.slice(0,T-u)),g>=u&&g<E&&(s=s.slice(g-u)),s)};let validateOffsetAndLength=(s,u,g)=>{if(u||(u=0),u<0)throw eO(Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(u>s)throw eO(Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(g||0===g||(g=s-u),g<0)throw eO(Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return u+g>s&&(g=s-u),{offset:u,length:g}};var tb=validateOffsetAndLength;async function*emitBytes(s,u,g,T,A=0,E){let B;if(u instanceof Uint8Array){let s=extract_data_from_block(u,A,g,T);return s.length&&(yield s),A+=s.length}if(null==u.Data)throw eO(Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{B=UnixFS.unmarshal(u.Data)}catch(s){throw eO(s,"ERR_NOT_UNIXFS")}if(B.data&&B.data.length){let s=extract_data_from_block(B.data,A,g,T);s.length&&(yield s),A+=B.data.length}let S=A;for(let I=0;I<u.Links.length;I++){let C=u.Links[I],O=A+B.blockSizes[I];if(g>=S&&g<O||T>S&&T<=O||g<S&&T>O){let u;let B=await s.get(C.Hash,{signal:E.signal});switch(C.Hash.code){case eY:u=await src_decode(B);break;case e3.code:u=B;break;case ek:u=await esm_decode(B);break;default:throw Error(`Unsupported codec: ${C.Hash.code}`)}for await(let B of emitBytes(s,u,g,T,A,E))A+=B.length,yield B}A=O,S=O+1}}let fileContent=(s,u,g,T,A,E,B)=>function(s={}){let T=g.fileSize();if(void 0===T)throw Error("File was a directory");let{offset:A,length:E}=tb(T,s.offset,s.length),S=A,I=A+E;return emitBytes(B,u,S,I,0,s)};var t_=fileContent;let directoryContent=(s,u,g,T,A,E,B)=>async function*(s={}){let g=s.offset||0,S=s.length||u.Links.length,I=u.Links.slice(g,S);for(let u of I){let g=await A(u.Hash,u.Name||"",`${T}/${u.Name||""}`,[],E+1,B,s);g.entry&&(yield g.entry)}};var tw=directoryContent;let hamtShardedDirectoryContent=(s,u,g,T,A,E,B)=>function(s={}){return listDirectory(u,T,A,E,B,s)};async function*listDirectory(s,u,g,T,A,E){let B=s.Links;for(let S of B){let B=null!=S.Name?S.Name.substring(2):null;if(B){let s=await g(S.Hash,B,`${u}/${B}`,[],T+1,A,E);yield s.entry}else{let B=await A.get(S.Hash);for await(let S of listDirectory(s=src_decode(B),u,g,T,A,E))yield S}}}var tk=hamtShardedDirectoryContent;let findLinkCid=(s,u)=>{let g=s.Links.find(s=>s.Name===u);return g&&g.Hash},tT={raw:t_,file:t_,directory:tw,"hamt-sharded-directory":tk,metadata:(s,u,g,T,A,E,B)=>()=>[],symlink:(s,u,g,T,A,E,B)=>()=>[]},unixFsResolver=async(s,u,g,T,A,E,B,S)=>{let I,C;let O=await B.get(s,S),N=src_decode(O);if(u||(u=s.toString()),null==N.Data)throw eO(Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{I=UnixFS.unmarshal(N.Data)}catch(s){throw eO(s,"ERR_NOT_UNIXFS")}if(g||(g=u),T.length){let s;if(!(s=I&&"hamt-sharded-directory"===I.type?await tm(N,T[0],B):findLinkCid(N,T[0])))throw eO(Error("file does not exist"),"ERR_NOT_FOUND");let u=T.shift(),A=`${g}/${u}`;C={cid:s,toResolve:T,name:u||"",path:A}}return{entry:{type:I.isDirectory()?"directory":"file",name:u,path:g,cid:s,content:tT[I.type](s,N,I,g,A,E,B),unixfs:I,depth:E,node:N,size:I.fileSize()},next:C}};var tv=unixFsResolver;let rawContent=s=>async function*(u={}){let{offset:g,length:T}=tb(s.length,u.offset,u.length);yield extract_data_from_block(s,0,g,g+T)},resolve=async(s,u,g,T,A,E,B,S)=>{if(T.length)throw eO(Error(`No link named ${g} found in raw node ${s}`),"ERR_NOT_FOUND");let I=await B.get(s,S);return{entry:{type:"raw",name:u,path:g,cid:s,content:rawContent(I),depth:E,size:I.length,node:I}}};var tA=resolve;let dag_cbor_resolve=async(s,u,g,T,A,E,B,S)=>{let I=await B.get(s),C=esm_decode(I),N=C,D=g;for(;T.length;){let A=T[0];if(A in N){T.shift(),D=`${D}/${A}`;let B=O.k.asCID(N[A]);if(B)return{entry:{type:"object",name:u,path:g,cid:s,node:I,depth:E,size:I.length,content:async function*(){yield C}},next:{cid:B,name:A,path:D,toResolve:T}};N=N[A]}else throw eO(Error(`No property named ${A} found in cbor node ${s}`),"ERR_NO_PROP")}return{entry:{type:"object",name:u,path:g,cid:s,node:I,depth:E,size:I.length,content:async function*(){yield C}}}};var tx=dag_cbor_resolve;let identity_rawContent=s=>async function*(u={}){let{offset:g,length:T}=tb(s.length,u.offset,u.length);yield extract_data_from_block(s,0,g,g+T)},identity_resolve=async(s,u,g,T,A,E,B,S)=>{if(T.length)throw eO(Error(`No link named ${g} found in raw node ${s}`),"ERR_NOT_FOUND");let I=await N.Jx(s.multihash.bytes);return{entry:{type:"identity",name:u,path:g,cid:s,content:identity_rawContent(I.digest),depth:E,size:I.digest.length,node:I.digest}}};var tE=identity_resolve;let tB={[eY]:tv,[e3.code]:tA,[ek]:tx,[tg.identity.code]:tE};function resolvers_resolve(s,u,g,T,A,E,B){let S=tB[s.code];if(!S)throw eO(Error(`No resolver for code ${s.code}`),"ERR_NO_RESOLVER");return S(s,u,g,T,resolvers_resolve,A,E,B)}var tS=resolvers_resolve;let src_toPathComponents=(s="")=>(s.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean),cidAndRest=s=>{if(s instanceof Uint8Array)return{cid:O.k.decode(s),toResolve:[]};let u=O.k.asCID(s);if(u)return{cid:u,toResolve:[]};if("string"==typeof s){0===s.indexOf("/ipfs/")&&(s=s.substring(6));let u=src_toPathComponents(s);return{cid:O.k.parse(u[0]),toResolve:u.slice(1)}}throw eO(Error(`Unknown path type ${s}`),"ERR_BAD_PATH")};async function*walkPath(s,u,g={}){let{cid:T,toResolve:A}=cidAndRest(s),E=T.toString(),B=E,S=A.length;for(;;){let I=await tS(T,E,B,A,S,u,g);if(!I.entry&&!I.next)throw eO(Error(`Could not resolve ${s}`),"ERR_NOT_FOUND");if(I.entry&&(yield I.entry),!I.next)return;A=I.next.toResolve,T=I.next.cid,E=I.next.name,B=I.next.path}}async function exporter(s,u,g={}){let T=await S(walkPath(s,u,g));if(!T)throw eO(Error(`Could not resolve ${s}`),"ERR_NOT_FOUND");return T}async function*recursive(s,u,g={}){let T=await exporter(s,u,g);if(T&&(yield T,"directory"===T.type))for await(let s of recurse(T,g))yield s;async function*recurse(s,u){for await(let g of s.content(u))yield g,g instanceof Uint8Array||"directory"!==g.type||(yield*recurse(g,u))}}function equals(s,u){if(s===u)return!0;if(s.byteLength!==u.byteLength)return!1;for(let g=0;g<s.byteLength;g++)if(s[g]!==u[g])return!1;return!0}let verifying_get_only_blockstore_VerifyingGetOnlyBlockStore=class verifying_get_only_blockstore_VerifyingGetOnlyBlockStore extends base_BaseBlockstore{constructor(s){super(),this.store=s}async get(s){let u=await this.store.get(s);if(!u)throw Error(`Incomplete CAR. Block missing for CID ${s}`);if(!isValid({cid:s,bytes:u}))throw Error(`Invalid CAR. Hash of block data does not match CID ${s}`);return u}static fromBlockstore(s){return new verifying_get_only_blockstore_VerifyingGetOnlyBlockStore(s)}static fromCarReader(s){return new verifying_get_only_blockstore_VerifyingGetOnlyBlockStore({get:async u=>{let g=await s.get(u);return null==g?void 0:g.bytes}})}};async function isValid({cid:s,bytes:u}){let g=await ex.sha256.digest(u);return equals(g.digest,s.multihash.digest)}async function*unpackStream(s,{roots:u,blockstore:g}={}){let T=await CarBlockIterator.fromIterable(asAsyncIterable(s)),A=g||new MemoryBlockStore;for await(let s of T)await A.put(s.cid,s.bytes);let E=verifying_get_only_blockstore_VerifyingGetOnlyBlockStore.fromBlockstore(A);for(let s of(u&&0!==u.length||(u=await T.getRoots()),u))yield*recursive(s,E)}function asAsyncIterable(s){return Symbol.asyncIterator in s?s:ta(s)}let readonly=({enumerable:s=!0,configurable:u=!1}={})=>({enumerable:s,configurable:u,writable:!1}),links=function*(s,u){if(null!=s&&!(s instanceof Uint8Array))for(let[g,T]of Object.entries(s)){let s=[...u,g];if(null!=T&&"object"==typeof T){if(Array.isArray(T))for(let[u,g]of T.entries()){let T=[...s,u],A=eB.k0.asCID(g);A?yield[T.join("/"),A]:"object"==typeof g&&(yield*links(g,T))}else{let u=eB.k0.asCID(T);u?yield[s.join("/"),u]:yield*links(T,s)}}}},tree=function*(s,u){if(null!=s)for(let[g,T]of Object.entries(s)){let s=[...u,g];if(yield s.join("/"),null!=T&&!(T instanceof Uint8Array)&&"object"==typeof T&&!eB.k0.asCID(T)){if(Array.isArray(T))for(let[u,g]of T.entries()){let T=[...s,u];yield T.join("/"),"object"!=typeof g||eB.k0.asCID(g)||(yield*tree(g,T))}else yield*tree(T,s)}}},get=(s,u)=>{let g=s;for(let[s,T]of u.entries()){if(null==(g=g[T]))throw Error(`Object has no property at ${u.slice(0,s+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);let A=eB.k0.asCID(g);if(A)return{value:A,remaining:u.slice(s+1).join("/")}}return{value:g}};let Block=class Block{constructor({cid:s,bytes:u,value:g}){if(!s||!u||void 0===g)throw Error("Missing required argument");this.cid=s,this.bytes=u,this.value=g,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(s="/"){return get(this.value,s.split("/").filter(Boolean))}};let tI=42;function esm_cidEncoder(s){if(s.asCID!==s)return null;let u=O.k.asCID(s);if(!u)return null;let g=new Uint8Array(u.bytes.byteLength+1);return g.set(u.bytes,1),[new Token(Type.tag,tI),new Token(Type.bytes,g)]}function esm_undefinedEncoder(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function esm_numberEncoder(s){if(Number.isNaN(s))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(s===1/0||s===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}let tC={float64:!0,typeEncoders:{Object:esm_cidEncoder,undefined:esm_undefinedEncoder,number:esm_numberEncoder}};function esm_cidDecoder(s){if(0!==s[0])throw Error("Invalid CID for CBOR tag 42; expected leading 0x00");return O.k.decode(s.subarray(1))}let tO={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};tO.tags[tI]=esm_cidDecoder;let tN="dag-cbor",tD=113,dag_cbor_esm_encode=s=>encode(s,tC),dag_cbor_esm_decode=s=>decode(s,tO);let TreewalkCarSplitter=class TreewalkCarSplitter{constructor(s,u,g={}){if("number"!=typeof u||u<=0)throw Error("invalid target chunk size");this._reader=s,this._targetSize=u,this._decoders=[T,e3,E,...g.decoders||[]]}async *cars(){let s;let u=await this._reader.getRoots();if(1!==u.length)throw Error(`unexpected number of roots: ${u.length}`);for await(let g of this._cars(u[0]))s=g.channel,g.out&&(yield g.out);if(!s)throw Error("missing CAR writer channel");s.writer.close(),yield s.out}async _get(s){let u=await this._reader.get(s);if(!u)throw Error(`missing block for ${s}`);let{bytes:g}=u,T=this._decoders.find(u=>u.code===s.code);if(!T)throw Error(`missing decoder for ${s.code}`);return new Block({cid:s,bytes:g,value:T.decode(g)})}async *_cars(s,u=[],g){let T=await this._get(s);if((g=g||Object.assign(writer_browser_CarWriter.create(s),{size:0})).size>0&&g.size+T.bytes.byteLength>=this._targetSize){g.writer.close();let{out:s}=g;g=newCar(u),yield{channel:g,out:s}}for(let[,s]of(u=u.concat(T),g.size+=T.bytes.byteLength,g.writer.put(T),T.links()))for await(let T of this._cars(s,u,g))g=T.channel,yield T;if(!g)throw Error("missing CAR writer channel");yield{channel:g}}static async fromIterable(s,u,g){let T=await CarReader.fromIterable(s);return new TreewalkCarSplitter(T,u,g)}static async fromBlob(s,u,g){let T=await s.arrayBuffer(),A=await CarReader.fromBytes(new Uint8Array(T));return new TreewalkCarSplitter(A,u,g)}};function newCar(s){let u=Object.assign(writer_browser_CarWriter.create(s[0].cid),{size:s.reduce((s,u)=>s+u.bytes.byteLength,0)});for(let g of s)u.writer.put(g);return u}var tR=g(2136);let tL=globalThis.fetch,tU=globalThis.Blob,tP=globalThis.File,tM=MemoryBlockStore,tz=5,tj=3,tF=52428800,t$=1048576,tV=104857600,tW=30,tH=1e4;function createRateLimiter(){let s=tR(tW,tH);return()=>s(()=>{})}let tG=createRateLimiter();let Web3Storage=class Web3Storage{constructor({token:s,endpoint:u=new URL("https://api.web3.storage"),rateLimiter:g,fetch:T=tL}){this.token=s,this.endpoint=u,this.rateLimiter=g||createRateLimiter(),this.fetch=T}static headers(s){if(!s)throw Error("missing token");return{Authorization:`Bearer ${s}`,"X-Client":"web3.storage/js"}}static async put({endpoint:s,token:u,rateLimiter:g=tG,fetch:T=tL},A,{onRootCidReady:E,onStoredChunk:B,maxRetries:S=tz,maxChunkSize:I=tF,wrapWithDirectory:C=!0,name:O,signal:N}={}){if(I>=tV||I<t$)throw Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");let D=new tM;try{let{out:R,root:L}=await pack({input:Array.from(A).map(toImportCandidate),blockstore:D,wrapWithDirectory:C,maxChunkSize:t$,maxChildrenPerNode:1024});E&&E(L.toString());let U=await CarReader.fromIterable(R);return await Web3Storage.putCar({endpoint:s,token:u,rateLimiter:g,fetch:T},U,{onStoredChunk:B,maxRetries:S,maxChunkSize:I,name:O,signal:N})}finally{await D.close()}}static async putCar({endpoint:s,token:u,rateLimiter:g=tG,fetch:T=tL},A,{name:E,onStoredChunk:S,maxRetries:I=tz,maxChunkSize:C=tF,decoders:O,signal:N}={}){if(C>=tV||C<t$)throw Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");let D=C,R=new URL("car",s),L={...Web3Storage.headers(u),"Content-Type":"application/vnd.ipld.car",...E?{"X-Name":encodeURIComponent(E)}:{}},U=await A.getRoots();if(null==U[0])throw Error("missing root CID");if(U.length>1)throw Error("too many roots");let P=U[0].toString(),M=new TreewalkCarSplitter(A,D,{decoders:O}),onCarChunk=async s=>{let u=[];for await(let g of s)u.push(g);let A=new tU(u,{type:"application/vnd.ipld.car"}),E=A;parseInt(globalThis.process?.versions?.node)>18&&(E=await E.arrayBuffer());let C=await B(async()=>{let s;await g();try{s=await T(R.toString(),{method:"POST",headers:L,body:E,signal:N})}catch(s){throw N&&N.aborted?new B.AbortError(s):s}if(429===s.status)throw Error("rate limited");let u=await s.json();if(!s.ok)throw Error(u.message);if(u.cid!==P)throw Error(`root CID mismatch, expected: ${P}, received: ${u.cid}`);return u.cid},{retries:I});return S&&S(A.size),C},z=transform(tj,onCarChunk);for await(let s of z(M.cars()));return P}static async get({endpoint:s,token:u,rateLimiter:g=tG,fetch:T=tL},A,E={}){let B=new URL(`car/${A}`,s);await g();let S=await T(B.toString(),{method:"GET",headers:Web3Storage.headers(u),signal:E.signal});if(429===S.status)throw Error("rate limited");return toWeb3Response(S)}static async delete({endpoint:s,token:u,rateLimiter:g=tG},T,A={}){throw console.log("Not deleting",T,s,u,g,A),Error(".delete not implemented yet")}static async status({endpoint:s,token:u,rateLimiter:g=tG,fetch:T=tL},A,E={}){let B=new URL(`status/${A}`,s);await g();let S=await T(B.toString(),{method:"GET",headers:Web3Storage.headers(u),signal:E.signal});if(429===S.status)throw Error("rate limited");if(404!==S.status){if(!S.ok)throw Error(S.statusText);return S.json()}}static async *list(s,{before:u=new Date().toISOString(),maxResults:g=1/0,signal:T}={}){async function listPage({endpoint:s,token:u,rateLimiter:g=tG,fetch:A=tL},{before:E,size:B}){let S=new URLSearchParams({before:E,size:B.toString()}),I=new URL(`user/uploads?${S}`,s);return await g(),A(I.toString(),{method:"GET",headers:{...Web3Storage.headers(u),"Access-Control-Request-Headers":"Link"},signal:T})}let A=0,E=g>100?100:g;for await(let T of paginator(listPage,s,{before:u,size:E})){if(!T.ok){if(429===T.status)throw Error("rate limited");let s=await T.json();throw Error(`${T.status} ${T.statusText} ${s?"- "+s.message:""}`)}let s=await T.json();for(let u of s){if(++A>g)return;yield u}}}put(s,u){return Web3Storage.put(this,s,u)}putCar(s,u){return Web3Storage.putCar(this,s,u)}get(s,u){return Web3Storage.get(this,s,u)}delete(s,u){return Web3Storage.delete(this,s,u)}status(s,u){return Web3Storage.status(this,s,u)}list(s){return Web3Storage.list(this,s)}};async function toWeb3File({content:s,path:u,cid:g}){let T=[];for await(let u of s())T.push(u);let A=new tP(T,toFilenameWithPath(u));return Object.assign(A,{cid:g.toString()})}function toFilenameWithPath(s){let u=s.indexOf("/");return -1===u?s:s.substring(u+1)}function toWeb3Response(s){let u=Object.assign(s,{unixFsIterator:async function*(){if(!s.ok)throw Error(`Response was not ok: ${s.status} ${s.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!s.body)throw Error("No body on response");let u=new tM;try{for await(let g of unpackStream(s.body,{blockstore:u}))yield g}finally{await u.close()}},files:async()=>{if(!s.ok)throw Error(`Response was not ok: ${s.status} ${s.statusText} - Check for { "ok": false } on the Response object before calling .files`);let g=[];for await(let s of u.unixFsIterator()){if("directory"===s.type)continue;let u=await toWeb3File(s);g.push(u)}return g}});return u}function toImportCandidate(s){let u;return{path:s.name,get content(){return u=u||s.stream()}}}async function*paginator(s,u,g){let T=await s(u,g);yield T;let A=parseLinkHeader(T.headers.get("Link")||"");for(;A&&A.next;)T=await s(u,A.next),yield T,A=parseLinkHeader(T.headers.get("Link")||"")}}}]);